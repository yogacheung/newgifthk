/** Cooked with Flambe, https://getflambe.com */
'use strict';(function(){function r(a,b){function c(){}c.prototype=a;var e=new c,i;for(i in b)e[i]=b[i];b.toString!==Object.prototype.toString&&(e.toString=b.toString);return e}function Tb(a){return a instanceof Array?function(){return m.iter(a)}:"function"==typeof a.iterator?S(a,a.iterator):a.iterator}function S(a,b){if(null==b)return null;null==b.__id__&&(b.__id__=dc++);var c;null==a.hx__closures__?a.hx__closures__={}:c=a.hx__closures__[b.__id__];null==c&&(c=function(){return c.method.apply(c.scope,
arguments)},c.scope=a,c.method=b,a.hx__closures__[b.__id__]=c);return c}var O=function(a,b){b=b.split("u").join("");this.r=RegExp(a,b)};O.__name__=!0;O.prototype={match:function(a){this.r.global&&(this.r.lastIndex=0);this.r.m=this.r.exec(a);this.r.s=a;return null!=this.r.m},matched:function(a){if(null!=this.r.m&&0<=a&&a<this.r.m.length)return this.r.m[a];throw"EReg::matched";},matchedPos:function(){if(null==this.r.m)throw"No string matched";return{pos:this.r.m.index,len:this.r.m[0].length}},split:function(a){return a.replace(this.r,
"#__delim__#").split("#__delim__#")},__class__:O};var m=function(){};m.__name__=!0;m.cca=function(a,b){var c=a.charCodeAt(b);return c!=c?void 0:c};m.substr=function(a,b,c){if(null!=b&&0!=b&&null!=c&&0>c)return"";null==c&&(c=a.length);0>b?(b=a.length+b,0>b&&(b=0)):0>c&&(c=a.length+c-b);return a.substr(b,c)};m.remove=function(a,b){var c=a.indexOf(b);if(-1==c)return!1;a.splice(c,1);return!0};m.iter=function(a){return{cur:0,arr:a,hasNext:function(){return this.cur<this.arr.length},next:function(){return this.arr[this.cur++]}}};
var La=function(){};La.__name__=!0;La.array=function(a){for(var b=[],a=Tb(a)();a.hasNext();){var c=a.next();b.push(c)}return b};La.count=function(a,b){var c=0;if(null==b)for(var e=Tb(a)();e.hasNext();)e.next(),c++;else for(e=Tb(a)();e.hasNext();){var i=e.next();b(i)&&c++}return c};var A=function(){};A.__name__=!0;A.main=function(){f.init();d.defaultOrientation=V.Landscape;d.systemBgColor=262206;d.maskRootCont=!1;d.rootContYAlign="middle";d.useMouseHandCursor=!0;A.parseExtData()};A.onInit=function(){d.buttonClickSfx=
"button_click_sfx";0<=window.navigator.userAgent.indexOf("iPad")||0<=window.navigator.userAgent.indexOf("iPhone")?d.goToScene((new qb).root):d.goToScene((new L).root)};A.parseExtData=function(){A.qs=Ub.parseQueryString(f._platform.getExternal().call("location.search.toString").substr(1),"rid");var a=new G;""==A.qs?a.add("card","XML_TEMPLATE/card.xml"):a.add("card","RECIPIENT_TEMPLATES/"+A.qs+".xml");f._platform.loadAssetPack(a).get(function(a){A.xmlData=new Ma(k.parse(a.getFile("card").toString()).firstElement());
a=new G;""!=A.qs?a.add("logo",A.xmlData.node.resolve("logo").get_innerData().toString()):a.add("logo","XML_TEMPLATE/logo.png");a.add("soundtrack","music/"+A.xmlData.node.resolve("music").get_innerData().toString()+".mp3");a.add("soundtrack","music/"+A.xmlData.node.resolve("music").get_innerData().toString()+".ogg");d.extManifest=a;(new d(1920,1080)).init.connect(A.onInit).once()})};var Vb=function(){};Vb.__name__=!0;Math.__name__=!0;var D=function(){};D.__name__=!0;D.field=function(a,b){try{return a[b]}catch(c){return null}};
D.getProperty=function(a,b){var c;return null==a?null:a.__properties__&&(c=a.__properties__["get_"+b])?a[c]():a[b]};D.callMethod=function(a,b,c){return b.apply(a,c)};D.fields=function(a){var b=[];if(null!=a){var c=Object.prototype.hasOwnProperty,e;for(e in a)"__id__"!=e&&"hx__closures__"!=e&&c.call(a,e)&&b.push(e)}return b};var v=function(){};v.__name__=!0;v.is=function(a,b){return B.__instanceof(a,b)};v.instance=function(a,b){return a instanceof b?a:null};v.string=function(a){return B.__string_rec(a,
"")};v["int"]=function(a){return a|0};v.parseInt=function(a){var b=parseInt(a,10);if(0==b&&(120==m.cca(a,1)||88==m.cca(a,1)))b=parseInt(a);return isNaN(b)?null:b};v.random=function(a){return 0>=a?0:Math.floor(Math.random()*a)};var Na=function(){this.b=""};Na.__name__=!0;Na.prototype={add:function(a){this.b+=v.string(a)},addSub:function(a,b,c){this.b=null==c?this.b+m.substr(a,b,null):this.b+m.substr(a,b,c)},__class__:Na};var w=function(){};w.__name__=!0;w.startsWith=function(a,b){return a.length>=
b.length&&m.substr(a,0,b.length)==b};w.isSpace=function(a,b){var c=m.cca(a,b);return 8<c&&14>c||32==c};w.ltrim=function(a){for(var b=a.length,c=0;c<b&&w.isSpace(a,c);)c++;return 0<c?m.substr(a,c,b-c):a};w.rtrim=function(a){for(var b=a.length,c=0;c<b&&w.isSpace(a,b-c-1);)c++;return 0<c?m.substr(a,0,b-c):a};w.trim=function(a){return w.ltrim(w.rtrim(a))};w.replace=function(a,b,c){return a.split(b).join(c)};w.fastCodeAt=function(a,b){return a.charCodeAt(b)};var k=function(){};k.__name__=!0;k.parse=function(a){return X.parse(a)};
k.createElement=function(a){var b=new k;b.nodeType=k.Element;b._children=[];b._attributes=new M;b.set_nodeName(a);return b};k.createPCData=function(a){var b=new k;b.nodeType=k.PCData;b.set_nodeValue(a);return b};k.createCData=function(a){var b=new k;b.nodeType=k.CData;b.set_nodeValue(a);return b};k.createComment=function(a){var b=new k;b.nodeType=k.Comment;b.set_nodeValue(a);return b};k.createDocType=function(a){var b=new k;b.nodeType=k.DocType;b.set_nodeValue(a);return b};k.createProcessingInstruction=
function(a){var b=new k;b.nodeType=k.ProcessingInstruction;b.set_nodeValue(a);return b};k.createDocument=function(){var a=new k;a.nodeType=k.Document;a._children=[];return a};k.prototype={get_nodeName:function(){if(this.nodeType!=k.Element)throw"bad nodeType";return this._nodeName},set_nodeName:function(a){if(this.nodeType!=k.Element)throw"bad nodeType";return this._nodeName=a},get_nodeValue:function(){if(this.nodeType==k.Element||this.nodeType==k.Document)throw"bad nodeType";return this._nodeValue},
set_nodeValue:function(a){if(this.nodeType==k.Element||this.nodeType==k.Document)throw"bad nodeType";return this._nodeValue=a},set:function(a,b){if(this.nodeType!=k.Element)throw"bad nodeType";this._attributes.set(a,b)},exists:function(a){if(this.nodeType!=k.Element)throw"bad nodeType";return this._attributes.exists(a)},iterator:function(){if(null==this._children)throw"bad nodetype";return{cur:0,x:this._children,hasNext:function(){return this.cur<this.x.length},next:function(){return this.x[this.cur++]}}},
elementsNamed:function(a){if(null==this._children)throw"bad nodetype";return{cur:0,x:this._children,hasNext:function(){for(var b=this.cur,c=this.x.length;b<c;){var e=this.x[b];if(e.nodeType==k.Element&&e._nodeName==a)break;b++}this.cur=b;return b<c},next:function(){for(var b=this.cur,c=this.x.length;b<c;){var e=this.x[b];b++;if(e.nodeType==k.Element&&e._nodeName==a)return this.cur=b,e}return null}}},firstElement:function(){if(null==this._children)throw"bad nodetype";for(var a=0,b=this._children.length;a<
b;){var c=this._children[a];if(c.nodeType==k.Element)return c;a++}return null},addChild:function(a){if(null==this._children)throw"bad nodetype";null!=a._parent&&m.remove(a._parent._children,a);a._parent=this;this._children.push(a)},__class__:k,__properties__:{set_nodeValue:"set_nodeValue",get_nodeValue:"get_nodeValue",set_nodeName:"set_nodeName",get_nodeName:"get_nodeName"}};var T=function(){};T.__name__=!0;T.prototype={__class__:T};var q=function(){this._flags=0;this.owner=this.next=null};q.__name__=
!0;q.__interfaces__=[T];q.prototype={onAdded:function(){},onRemoved:function(){},onStart:function(){},onStop:function(){},onUpdate:function(){},dispose:function(){null!=this.owner&&this.owner.remove(this)},get_name:function(){return null},__class__:q,__properties__:{get_name:"get_name"}};var ea=function(){q.call(this);this._disposables=[]};ea.__name__=!0;ea.__super__=q;ea.prototype=r(q.prototype,{get_name:function(){return"Disposer_4"},add:function(a){this._disposables.push(a);return this},connect1:function(a,
b){this.add(a.connect(b));return this},onRemoved:function(){this.freeDisposables()},dispose:function(){q.prototype.dispose.call(this);this.freeDisposables()},freeDisposables:function(){var a=this._disposables;this._disposables=[];for(var b=0;b<a.length;){var c=a[b];++b;c.dispose()}},__class__:ea});var C=function(){this.parent=this.firstChild=this.next=this.firstComponent=null;this._compMap={}};C.__name__=!0;C.__interfaces__=[T];C.prototype={add:function(a){null!=a.owner&&a.owner.remove(a);var b=a.get_name(),
c=this._compMap[b];null!=c&&this.remove(c);this._compMap[b]=a;b=null;for(c=this.firstComponent;null!=c;)b=c,c=c.next;null!=b?b.next=a:this.firstComponent=a;a.owner=this;a.next=null;a.onAdded();return this},remove:function(a){for(var b=null,c=this.firstComponent;null!=c;){var e=c.next;if(c==a)return null==b?this.firstComponent=e:(b.owner=this,b.next=e),delete this._compMap[c.get_name()],0!=(c._flags&1)&&(c.onStop(),c._flags&=-2),c.onRemoved(),c.owner=null,c.next=null,!0;b=c;c=e}return!1},addChild:function(a,
b){null==b&&(b=!0);null!=a.parent&&a.parent.removeChild(a);a.parent=this;if(b){for(var c=null,e=this.firstChild;null!=e;)c=e,e=e.next;null!=c?c.next=a:this.firstChild=a}else a.next=this.firstChild,this.firstChild=a;return this},removeChild:function(a){for(var b=null,c=this.firstChild;null!=c;){var e=c.next;if(c==a){null==b?this.firstChild=e:b.next=e;c.parent=null;c.next=null;break}b=c;c=e}},disposeChildren:function(){for(;null!=this.firstChild;)this.firstChild.dispose()},dispose:function(){for(null!=
this.parent&&this.parent.removeChild(this);null!=this.firstComponent;)this.firstComponent.dispose();this.disposeChildren()},__class__:C};var Wb=function(){};Wb.__name__=!0;var rb=function(){};rb.__name__=!0;rb.prototype={__class__:rb};var Y=function(){};Y.__name__=!0;Y.__interfaces__=[rb];Y.prototype={init:function(){var a=this;n.fixAndroidMath();var b=null;try{b=window.flambe.canvas}catch(c){}b.setAttribute("tabindex","0");b.style.outlineStyle="none";b.style.webkitTapHighlightColor="transparent";
b.setAttribute("moz-opaque","true");this._stage=new la(b);this._pointer=new E;this._mouse=new Oa(this._pointer,b);this._renderer=this.createRenderer(b);this.mainLoop=new ma;this.musicPlaying=!1;this._canvas=b;this._container=b.parentElement;this._container.style.overflow="hidden";this._container.style.position="relative";this._container.style.msTouchAction="none";var e=0,i=function(c){if(!(1E3>c.timeStamp-e)){var i=b.getBoundingClientRect(),g=a.getX(c,i),i=a.getY(c,i);switch(c.type){case "mousedown":c.target==
b&&(c.preventDefault(),a._mouse.submitDown(g,i,c.button),b.focus());break;case "mousemove":a._mouse.submitMove(g,i);break;case "mouseup":a._mouse.submitUp(g,i,c.button);break;case "mousewheel":case "DOMMouseScroll":a._mouse.submitScroll(g,i,"mousewheel"==c.type?c.wheelDelta/40:-c.detail)&&c.preventDefault()}}};window.addEventListener("mousedown",i,!1);window.addEventListener("mousemove",i,!1);window.addEventListener("mouseup",i,!1);b.addEventListener("mousewheel",i,!1);b.addEventListener("DOMMouseScroll",
i,!1);b.addEventListener("contextmenu",function(a){a.preventDefault()},!1);var g="undefined"!=typeof window.ontouchstart,i="msMaxTouchPoints"in window.navigator&&1<window.navigator.msMaxTouchPoints;if(g||i){var d=new Pa(this._pointer,g?4:window.navigator.msMaxTouchPoints);this._touch=d;i=function(b){var c;c=g?b.changedTouches:[b];var i=b.target.getBoundingClientRect();e=b.timeStamp;switch(b.type){case "touchstart":case "MSPointerDown":case "pointerdown":b.preventDefault();n.SHOULD_HIDE_MOBILE_BROWSER&&
n.hideMobileBrowser();for(b=0;b<c.length;){var j=c[b];++b;var f=a.getX(j,i),l=a.getY(j,i);d.submitDown((g?j.identifier:j.pointerId)|0,f,l)}break;case "touchmove":case "MSPointerMove":case "pointermove":b.preventDefault();for(b=0;b<c.length;)j=c[b],++b,f=a.getX(j,i),l=a.getY(j,i),d.submitMove((g?j.identifier:j.pointerId)|0,f,l);break;case "touchend":case "touchcancel":case "MSPointerUp":case "pointerup":for(b=0;b<c.length;)j=c[b],++b,f=a.getX(j,i),l=a.getY(j,i),d.submitUp((g?j.identifier:j.pointerId)|
0,f,l)}};g?(b.addEventListener("touchstart",i,!1),b.addEventListener("touchmove",i,!1),b.addEventListener("touchend",i,!1),b.addEventListener("touchcancel",i,!1)):(b.addEventListener("MSPointerDown",i,!1),b.addEventListener("MSPointerMove",i,!1),b.addEventListener("MSPointerUp",i,!1))}else this._touch=new Qa;var j=window.onerror;window.onerror=function(a,b,c){f.uncaughtError.emit(a);return null!=j?j(a,b,c):!1};var Xb=n.loadExtension("hidden",window.document);null!=Xb.value?(i=function(){f.hidden.set__(D.field(window.document,
Xb.field))},i(null),window.document.addEventListener(Xb.prefix+"visibilitychange",i,!1)):(i=function(a){f.hidden.set__("pagehide"==a.type)},window.addEventListener("pageshow",i,!1),window.addEventListener("pagehide",i,!1));f.hidden.get_changed().connect(function(b){b||(a._skipFrame=!0)});this._skipFrame=!1;this._lastUpdate=Date.now();var h=n.loadExtension("requestAnimationFrame").value,i=n.loadExtension("requestAnimationFrame").prefix;if(null!=h&&"webkit"!=i){var l=window.performance,k=null!=l&&n.polyfill("now",
l);k?this._lastUpdate=l.now():null;var m=null,m=function(c){a.update(k?l.now():c);h(m,b)};h(m,b)}else window.setInterval(function(){a.update(Date.now())},16);wa.info("Initialized HTML platform",["renderer",this._renderer.get_type()])},loadAssetPack:function(a){return(new t(this,a)).promise},getStage:function(){return this._stage},update:function(a){var b=(a-this._lastUpdate)/1E3;this._lastUpdate=a;f.hidden._value||(this._skipFrame?this._skipFrame=!1:(this.mainLoop.update(b),this.mainLoop.render(this._renderer)))},
getPointer:function(){return this._pointer},getMouse:function(){return this._mouse},getWeb:function(){null==this._web&&(this._web=new Ra(this._container));return this._web},getExternal:function(){null==this._external&&(this._external=new Sa);return this._external},getRenderer:function(){return this._renderer},getX:function(a,b){return(a.clientX-b.left)*this._stage.get_width()/b.width},getY:function(a,b){return(a.clientY-b.top)*this._stage.get_height()/b.height},createRenderer:function(a){return new na(a)},
__class__:Y};var H=function(a,b){this._value=a;this._changed=null!=b?new xa(b):null};H.__name__=!0;H.prototype={watch:function(a){a(this._value,this._value);return this.get_changed().connect(a)},set__:function(a){var b=this._value;a!=b&&(this._value=a,null!=this._changed&&this._changed.emit(a,b));return a},get_changed:function(){null==this._changed&&(this._changed=new xa);return this._changed},__class__:H,__properties__:{get_changed:"get_changed",set__:"set__"}};var oa=function(a,b){this._next=null;
this._signal=a;this._listener=b;this.stayInList=!0};oa.__name__=!0;oa.__interfaces__=[T];oa.prototype={once:function(){this.stayInList=!1;return this},dispose:function(){null!=this._signal&&(this._signal.disconnect(this),this._signal=null)},__class__:oa};var z=function(a){this._head=null!=a?new oa(this,a):null;this._deferredTasks=null};z.__name__=!0;z.prototype={connectImpl:function(a,b){var c=this,e=new oa(this,a);this._head==z.DISPATCHING_SENTINEL?this.defer(function(){c.listAdd(e,b)}):this.listAdd(e,
b);return e},disconnect:function(a){var b=this;this._head==z.DISPATCHING_SENTINEL?this.defer(function(){b.listRemove(a)}):this.listRemove(a)},defer:function(a){for(var b=null,c=this._deferredTasks;null!=c;)b=c,c=c.next;a=new sb(a);null!=b?b.next=a:this._deferredTasks=a},willEmit:function(){var a=this._head;this._head=z.DISPATCHING_SENTINEL;return a},didEmit:function(a){this._head=a;a=this._deferredTasks;for(this._deferredTasks=null;null!=a;)a.fn(),a=a.next},listAdd:function(a,b){if(b)a._next=this._head,
this._head=a;else{for(var c=null,e=this._head;null!=e;)c=e,e=e._next;null!=c?c._next=a:this._head=a}},listRemove:function(a){for(var b=null,c=this._head;null!=c;){if(c==a){a=c._next;null==b?this._head=a:b._next=a;break}b=c;c=c._next}},__class__:z};var xa=function(a){z.call(this,a)};xa.__name__=!0;xa.__super__=z;xa.prototype=r(z.prototype,{connect:function(a,b){null==b&&(b=!1);return this.connectImpl(a,b)},emit:function(a,b){var c=this;this._head==z.DISPATCHING_SENTINEL?this.defer(function(){c.emitImpl(a,
b)}):this.emitImpl(a,b)},emitImpl:function(a,b){for(var c=this.willEmit(),e=c;null!=e;)e._listener(a,b),e.stayInList||e.dispose(),e=e._next;this.didEmit(c)},__class__:xa});var u=function(a){z.call(this,a)};u.__name__=!0;u.__super__=z;u.prototype=r(z.prototype,{connect:function(a,b){null==b&&(b=!1);return this.connectImpl(a,b)},emit:function(a){var b=this;this._head==z.DISPATCHING_SENTINEL?this.defer(function(){b.emitImpl(a)}):this.emitImpl(a)},emitImpl:function(a){for(var b=this.willEmit(),c=b;null!=
c;)c._listener(a),c.stayInList||c.dispose(),c=c._next;this.didEmit(b)},__class__:u});var x=function(a,b){this._behavior=null;H.call(this,a,b)};x.__name__=!0;x.__super__=H;x.prototype=r(H.prototype,{set__:function(a){this._behavior=null;return H.prototype.set__.call(this,a)},update:function(a){null!=this._behavior&&(H.prototype.set__.call(this,this._behavior.update(a)),this._behavior.isComplete()&&(this._behavior=null))},animateTo:function(a,b,c){this.set_behavior(new ya(this._value,a,b,c))},set_behavior:function(a){this._behavior=
a;this.update(0);return a},__class__:x,__properties__:r(H.prototype.__properties__,{set_behavior:"set_behavior"})});var f=function(){};f.__name__=!0;f.init=function(){f._calledInit||(f._platform.init(),f._calledInit=!0)};f.loadAssetPack=function(a){return f._platform.loadAssetPack(a)};var wa=function(){};wa.__name__=!0;wa.info=function(){null};wa.__super__=Wb;wa.prototype=r(Wb.prototype,{__class__:wa});var tb=function(){this._realDt=0};tb.__name__=!0;tb.__super__=q;tb.prototype=r(q.prototype,{get_name:function(){return"SpeedAdjuster_8"},
onUpdate:function(a){0<this._realDt&&(a=this._realDt,this._realDt=0);this.scale.update(a)},__class__:tb});var ub=function(){};ub.__name__=!0;ub.prototype={__class__:ub};var y=function(){};y.__name__=!0;y.linear=function(a){return a};y.quadIn=function(a){return a*a};y.quadOut=function(a){return a*(2-a)};y.backIn=function(a){return a*a*(2.70158*a-1.70158)};y.backOut=function(a){return 1- --a*a*(-2.70158*a-1.70158)};var ya=function(a,b,c,e){this._from=a;this._to=b;this._duration=c;this.elapsed=0;this._easing=
null!=e?e:y.linear};ya.__name__=!0;ya.__interfaces__=[ub];ya.prototype={update:function(a){this.elapsed+=a;return this.elapsed>=this._duration?this._to:this._from+(this._to-this._from)*this._easing(this.elapsed/this._duration)},isComplete:function(){return this.elapsed>=this._duration},__class__:ya};var ga=function(){};ga.__name__=!0;ga.__interfaces__=[T];ga.prototype={__class__:ga};var h={__ename__:!0,__constructs__:"WEBP,JXR,PNG,JPG,GIF,DDS,PVR,PKM,MP3,M4A,OPUS,OGG,WAV,Data".split(","),WEBP:["WEBP",
0]};h.WEBP.__enum__=h;h.JXR=["JXR",1];h.JXR.__enum__=h;h.PNG=["PNG",2];h.PNG.__enum__=h;h.JPG=["JPG",3];h.JPG.__enum__=h;h.GIF=["GIF",4];h.GIF.__enum__=h;h.DDS=["DDS",5];h.DDS.__enum__=h;h.PVR=["PVR",6];h.PVR.__enum__=h;h.PKM=["PKM",7];h.PKM.__enum__=h;h.MP3=["MP3",8];h.MP3.__enum__=h;h.M4A=["M4A",9];h.M4A.__enum__=h;h.OPUS=["OPUS",10];h.OPUS.__enum__=h;h.OGG=["OGG",11];h.OGG.__enum__=h;h.WAV=["WAV",12];h.WAV.__enum__=h;h.Data=["Data",13];h.Data.__enum__=h;var vb=function(a,b,c,e){this.name=a;this.url=
b;this.format=c;this.bytes=e};vb.__name__=!0;vb.prototype={__class__:vb};var Ta=function(){};Ta.__name__=!0;Ta.__interfaces__=[T];Ta.prototype={__class__:Ta};var Ua=function(){};Ua.__name__=!0;Ua.__interfaces__=[ga];Ua.prototype={__class__:Ua};var G=function(){this._localBase=this._remoteBase=null;this._entries=[]};G.__name__=!0;G.fromAssets=function(a,b){null==b&&(b=!0);var c=D.field(Yb.getType(G).assets[0],a);if(null==c){if(b)throw I.withFields("Missing asset pack",["name",a]);return null}var e=
new G;e.set_localBase("assets");for(var i=0;i<c.length;){var g=c[i];++i;var d=g.name,j=a+"/"+d+"?v="+v.string(g.md5),f=G.inferFormat(d);f!=h.Data&&(d=I.removeFileExtension(d));e.add(d,j,g.bytes,f)}return e};G.inferFormat=function(a){a=I.getUrlExtension(a);if(null!=a)switch(a.toLowerCase()){case "gif":return h.GIF;case "jpg":case "jpeg":return h.JPG;case "jxr":case "wdp":return h.JXR;case "png":return h.PNG;case "webp":return h.WEBP;case "dds":return h.DDS;case "pvr":return h.PVR;case "pkm":return h.PKM;
case "m4a":return h.M4A;case "mp3":return h.MP3;case "ogg":return h.OGG;case "opus":return h.OPUS;case "wav":return h.WAV}else null;return h.Data};G.prototype={add:function(a,b,c,e){null==c&&(c=0);null==e&&(e=G.inferFormat(b));a=new vb(a,b,e,c);this._entries.push(a);return a},iterator:function(){return m.iter(this._entries)},getFullURL:function(a){var b;b=null!=this.get_remoteBase()&&G._supportsCrossOrigin?this.get_remoteBase():this.get_localBase();return null!=b?I.joinPath(b,a.url):a.url},get_localBase:function(){return this._localBase},
set_localBase:function(a){null!=a&&Zb.that(!w.startsWith(a,"http://")&&!w.startsWith(a,"https://"),"localBase must be a path on the same domain, NOT starting with http(s)://",null);return this._localBase=a},get_remoteBase:function(){return this._remoteBase},__class__:G,__properties__:{get_remoteBase:"get_remoteBase",set_localBase:"set_localBase",get_localBase:"get_localBase"}};var F={__ename__:!0,__constructs__:"Normal,Add,Multiply,Screen,Mask,Copy".split(","),Normal:["Normal",0]};F.Normal.__enum__=
F;F.Add=["Add",1];F.Add.__enum__=F;F.Multiply=["Multiply",2];F.Multiply.__enum__=F;F.Screen=["Screen",3];F.Screen.__enum__=F;F.Mask=["Mask",4];F.Mask.__enum__=F;F.Copy=["Copy",5];F.Copy.__enum__=F;var wb=function(a,b){null==b&&(b=0);null==a&&(a=0);this.x=a;this.y=b};wb.__name__=!0;wb.prototype={__class__:wb};var p=function(){this.blendMode=this.scissor=null;var a=this;q.call(this);this._flags|=54;this._localMatrix=new xb;var b=function(){a._flags|=24};this.x=new x(0,b);this.y=new x(0,b);this.rotation=
new x(0,b);this.scaleX=new x(1,b);this.scaleY=new x(1,b);this.anchorX=new x(0,b);this.anchorY=new x(0,b);this.alpha=new x(1)};p.__name__=!0;p.hitTest=function(a,b,c){var e=a._compMap.Sprite_2;if(null!=e){if(6!=(e._flags&6))return null;e.getLocalMatrix().inverseTransform(b,c,p._scratchPoint)&&(b=p._scratchPoint.x,c=p._scratchPoint.y);var i=e.scissor;if(null!=i&&!i.contains(b,c))return null}a=p.hitTestBackwards(a.firstChild,b,c);return null!=a?a:null!=e&&e.containsLocal(b,c)?e:null};p.render=function(a,
b){var c=a._compMap.Sprite_2;if(null!=c){var e=c.alpha._value;if(0==(c._flags&2)||0>=e)return;b.save();1>e&&b.multiplyAlpha(e);null!=c.blendMode&&b.setBlendMode(c.blendMode);var e=c.getLocalMatrix(),i=e.m02,g=e.m12;0!=(c._flags&32)&&(i=Math.round(i),g=Math.round(g));b.transform(e.m00,e.m10,e.m01,e.m11,i,g);e=c.scissor;null!=e&&b.applyScissor(e.x,e.y,e.width,e.height);c.draw(b)}e=a._compMap.Director_7;if(null!=e){e=e.occludedScenes;for(i=0;i<e.length;)g=e[i],++i,p.render(g,b)}for(e=a.firstChild;null!=
e;)i=e.next,p.render(e,b),e=i;null!=c&&b.restore()};p.hitTestBackwards=function(a,b,c){if(null!=a){var e=p.hitTestBackwards(a.next,b,c);return null!=e?e:p.hitTest(a,b,c)}return null};p.__super__=q;p.prototype=r(q.prototype,{get_name:function(){return"Sprite_2"},getNaturalWidth:function(){return 0},getNaturalHeight:function(){return 0},containsLocal:function(a,b){return 0<=a&&a<this.getNaturalWidth()&&0<=b&&b<this.getNaturalHeight()},getLocalMatrix:function(){0!=(this._flags&8)&&(this._flags&=-9,this._localMatrix.compose(this.x._value,
this.y._value,this.scaleX._value,this.scaleY._value,3.141592653589793*this.rotation._value/180),this._localMatrix.translate(-this.anchorX._value,-this.anchorY._value));return this._localMatrix},centerAnchor:function(){this.anchorX.set__(this.getNaturalWidth()/2);this.anchorY.set__(this.getNaturalHeight()/2);return this},setXY:function(a,b){this.x.set__(a);this.y.set__(b);return this},setAlpha:function(a){this.alpha.set__(a);return this},setRotation:function(a){this.rotation.set__(a);return this},
setScale:function(a){this.scaleX.set__(a);this.scaleY.set__(a);return this},setScaleXY:function(a,b){this.scaleX.set__(a);this.scaleY.set__(b);return this},disablePointer:function(){this.set_pointerEnabled(!1);return this},onAdded:function(){0!=(this._flags&64)&&this.connectHover()},onRemoved:function(){null!=this._hoverConnection&&(this._hoverConnection.dispose(),this._hoverConnection=null)},onUpdate:function(a){this.x.update(a);this.y.update(a);this.rotation.update(a);this.scaleX.update(a);this.scaleY.update(a);
this.alpha.update(a);this.anchorX.update(a);this.anchorY.update(a)},draw:function(){},getParentSprite:function(){if(null==this.owner)return null;for(var a=this.owner.parent;null!=a;){var b=a._compMap.Sprite_2;if(null!=b)return b;a=a.parent}return null},get_pointerDown:function(){null==this._pointerDown&&(this._pointerDown=new u);return this._pointerDown},get_pointerMove:function(){null==this._pointerMove&&(this._pointerMove=new u);return this._pointerMove},get_pointerUp:function(){null==this._pointerUp&&
(this._pointerUp=new u);return this._pointerUp},get_pointerIn:function(){null==this._pointerIn&&(this._pointerIn=new u);return this._pointerIn},get_pointerOut:function(){null==this._pointerOut&&(this._pointerOut=new u);return this._pointerOut},connectHover:function(){var a=this;null==this._hoverConnection&&(this._hoverConnection=f._platform.getPointer().move.connect(function(b){for(var c=b.hit;null!=c;){if(c==a)return;c=c.getParentSprite()}null!=a._pointerOut&&0!=(a._flags&64)&&a._pointerOut.emit(b);
a._flags&=-65;a._hoverConnection.dispose();a._hoverConnection=null}))},set_visible:function(a){this._flags=yb.set(this._flags,2,a);return a},set_pointerEnabled:function(a){this._flags=yb.set(this._flags,4,a);return a},onPointerDown:function(a){this.onHover(a);null!=this._pointerDown&&this._pointerDown.emit(a)},onPointerMove:function(a){this.onHover(a);null!=this._pointerMove&&this._pointerMove.emit(a)},onHover:function(a){if(0==(this._flags&64)&&(this._flags|=64,null!=this._pointerIn||null!=this._pointerOut))null!=
this._pointerIn&&this._pointerIn.emit(a),this.connectHover()},onPointerUp:function(a){switch(a.source[1]){case 1:null!=this._pointerOut&&0!=(this._flags&64)&&this._pointerOut.emit(a),this._flags&=-65,null!=this._hoverConnection&&(this._hoverConnection.dispose(),this._hoverConnection=null)}null!=this._pointerUp&&this._pointerUp.emit(a)},__class__:p,__properties__:r(q.prototype.__properties__,{set_pointerEnabled:"set_pointerEnabled",set_visible:"set_visible",get_pointerOut:"get_pointerOut",get_pointerIn:"get_pointerIn",
get_pointerUp:"get_pointerUp",get_pointerMove:"get_pointerMove",get_pointerDown:"get_pointerDown"})});var Va=function(a,b,c){p.call(this);this.color=a;this.width=new x(b);this.height=new x(c)};Va.__name__=!0;Va.__super__=p;Va.prototype=r(p.prototype,{draw:function(a){a.fillRect(this.color,0,0,this.width._value,this.height._value)},getNaturalWidth:function(){return this.width._value},getNaturalHeight:function(){return this.height._value},setSize:function(a,b){this.width.set__(a);this.height.set__(b);
return this},onUpdate:function(a){p.prototype.onUpdate.call(this,a);this.width.update(a);this.height.update(a)},__class__:Va});var Wa=function(a){this._kernings=null;this.xOffset=this.yOffset=this.xAdvance=0;this.page=null;this.x=this.y=this.width=this.height=0;this.charCode=a};Wa.__name__=!0;Wa.prototype={draw:function(a,b,c){0<this.width&&a.drawSubTexture(this.page,b+this.xOffset,c+this.yOffset,this.x,this.y,this.width,this.height)},getKerning:function(a){return null!=this._kernings?v["int"](this._kernings.get(a)):
0},setKerning:function(a,b){null==this._kernings&&(this._kernings=new W);this._kernings.set(a,b)},__class__:Wa};var pa=function(a,b){this.name=b;this._pack=a;this._file=a.getFile(b+".fnt");this.reload()};pa.__name__=!0;pa.prototype={layoutText:function(a,b,c,e,i){null==i&&(i=0);null==e&&(e=0);null==c&&(c=0);null==b&&(b=Q.Left);return new ha(this,a,b,c,e,i)},reload:function(){this._glyphs=new W;this._glyphs.set(pa.NEWLINE.charCode,pa.NEWLINE);for(var a=new qa(this._file.toString()),b=new W,c=this.name.lastIndexOf("/"),
c=0<=c?m.substr(this.name,0,c+1):"",e=a.keywords();e.hasNext();)switch(e.next()){case "info":for(var i=a.pairs();i.hasNext();){var g=i.next();switch(g.key){case "size":this.size=g.getInt()}}break;case "common":for(i=a.pairs();i.hasNext();)switch(g=i.next(),g.key){case "lineHeight":this.lineHeight=g.getInt()}break;case "page":for(var i=0,g=null,d=a.pairs();d.hasNext();){var j=d.next();switch(j.key){case "id":i=j.getInt();break;case "file":g=j.getString()}}g=this._pack.getTexture(c+I.removeFileExtension(g));
b.set(i,g);break;case "char":i=null;for(g=a.pairs();g.hasNext();)switch(d=g.next(),d.key){case "id":i=new Wa(d.getInt());break;case "x":i.x=d.getInt();break;case "y":i.y=d.getInt();break;case "width":i.width=d.getInt();break;case "height":i.height=d.getInt();break;case "page":d=d.getInt();i.page=b.get(d);break;case "xoffset":i.xOffset=d.getInt();break;case "yoffset":i.yOffset=d.getInt();break;case "xadvance":i.xAdvance=d.getInt()}this._glyphs.set(i.charCode,i);break;case "kerning":i=null;d=g=0;for(j=
a.pairs();j.hasNext();){var f=j.next();switch(f.key){case "first":i=this._glyphs.get(f.getInt());break;case "second":g=f.getInt();break;case "amount":d=f.getInt()}}null!=i&&0!=d&&i.setKerning(g,d)}},__class__:pa};var Q={__ename__:!0,__constructs__:["Left","Center","Right"],Left:["Left",0]};Q.Left.__enum__=Q;Q.Center=["Center",1];Q.Center.__enum__=Q;Q.Right=["Right",2];Q.Right.__enum__=Q;var ha=function(a,b,c,e,i,d){this.lines=0;var f=this;this._font=a;this._glyphs=[];this._offsets=[];this._lineOffset=
Math.round(a.lineHeight+d);this.bounds=new Xa;for(var j=[],d=b.length,h=0;h<d;){var k=h++,k=b.charCodeAt(k),k=a._glyphs.get(k);null!=k?this._glyphs.push(k):null}for(var b=-1,l=0,m=0,a=a._glyphs.get(10),d=function(){f.bounds.width=Ya.max(f.bounds.width,l);f.bounds.height+=m;j[f.lines]=l;m=l=0;++f.lines},h=0;h<this._glyphs.length;){k=this._glyphs[h];this._offsets[h]=Math.round(l);var n=0<e&&l+k.width>e;n||k==a?(n&&(0<=b?(this._glyphs[b]=a,l=this._offsets[b],h=b):this._glyphs.splice(h,0,a)),b=-1,m=this._lineOffset,
d()):(32==k.charCode&&(b=h),l+=k.xAdvance+i,m=Ya.max(m,k.height+k.yOffset),h+1<this._glyphs.length&&(l+=k.getKerning(this._glyphs[h+1].charCode)));++h}d();i=0;a=ha.getAlignOffset(c,j[0],e);b=1.79769313486231E308;d=-1.79769313486231E308;k=h=0;for(n=this._glyphs.length;k<n;){var o=this._glyphs[k];10==o.charCode&&(i+=this._lineOffset,++h,a=ha.getAlignOffset(c,j[h],e));this._offsets[k]+=a;var p=i+o.yOffset;b<p||(b=p);d=Ya.max(d,p+o.height);++k}this.bounds.x=ha.getAlignOffset(c,this.bounds.width,e);this.bounds.y=
b;this.bounds.height=d-b};ha.__name__=!0;ha.getAlignOffset=function(a,b,c){switch(a[1]){case 0:return 0;case 2:return c-b;case 1:return Math.round((c-b)/2)}};ha.prototype={draw:function(a){for(var b=0,c=0,e=this._glyphs.length;c<e;){var i=this._glyphs[c];10==i.charCode?b+=this._lineOffset:i.draw(a,this._offsets[c],b);++c}},__class__:ha};var qa=function(a){this._configText=a;this._keywordPattern=new O("([A-Za-z]+)(.*)","");this._pairPattern=new O('([A-Za-z]+)=("[^"]*"|[^\\s]+)',"")};qa.__name__=!0;
qa.advance=function(a,b){var c=b.matchedPos();return m.substr(a,c.pos+c.len,a.length)};qa.prototype={keywords:function(){var a=this,b=this._configText;return{next:function(){b=qa.advance(b,a._keywordPattern);a._pairText=a._keywordPattern.matched(2);return a._keywordPattern.matched(1)},hasNext:function(){return a._keywordPattern.match(b)}}},pairs:function(){var a=this,b=this._pairText;return{next:function(){b=qa.advance(b,a._pairPattern);return new zb(a._pairPattern.matched(1),a._pairPattern.matched(2))},
hasNext:function(){return a._pairPattern.match(b)}}},__class__:qa};var zb=function(a,b){this.key=a;this._value=b};zb.__name__=!0;zb.prototype={getInt:function(){return v.parseInt(this._value)},getString:function(){return 34!=this._value.charCodeAt(0)?null:m.substr(this._value,1,this._value.length-2)},__class__:zb};var Ab=function(){};Ab.__name__=!0;Ab.prototype={__class__:Ab};var za=function(a){p.call(this);this.texture=a};za.__name__=!0;za.__super__=p;za.prototype=r(p.prototype,{draw:function(a){null!=
this.texture&&a.drawTexture(this.texture,0,0)},getNaturalWidth:function(){return null!=this.texture?this.texture.get_width():0},getNaturalHeight:function(){return null!=this.texture?this.texture.get_height():0},__class__:za});var V={__ename__:!0,__constructs__:["Portrait","Landscape"],Portrait:["Portrait",0]};V.Portrait.__enum__=V;V.Landscape=["Landscape",1];V.Landscape.__enum__=V;var Za=function(){};Za.__name__=!0;Za.__interfaces__=[ga];Za.prototype={__class__:Za};var $b=function(){};$b.__name__=
!0;$b.__interfaces__=[Za];var $a=function(a,b){null==b&&(b="");this._layout=null;var c=this;p.call(this);this._font=a;this._text=b;this._align=Q.Left;this._flags|=128;var e=function(){c._flags|=128};this.wrapWidth=new x(0,e);this.letterSpacing=new x(0,e);this.lineSpacing=new x(0,e)};$a.__name__=!0;$a.__super__=p;$a.prototype=r(p.prototype,{draw:function(a){this.updateLayout();this._layout.draw(a)},getNaturalWidth:function(){this.updateLayout();return 0<this.wrapWidth._value?this.wrapWidth._value:
this._layout.bounds.width},getNaturalHeight:function(){this.updateLayout();var a=this._layout.lines*(this._font.lineHeight+this.lineSpacing._value),b=this._layout.bounds.height;return a>b?a:b},containsLocal:function(a,b){this.updateLayout();return this._layout.bounds.contains(a,b)},setWrapWidth:function(a){this.wrapWidth.set__(a);return this},setAlign:function(a){this.set_align(a);return this},set_align:function(a){a!=this._align&&(this._align=a,this._flags|=128);return a},updateLayout:function(){0!=
(this._flags&128)&&(this._flags&=-129,this._layout=this._font.layoutText(this._text,this._align,this.wrapWidth._value,this.letterSpacing._value,this.lineSpacing._value))},onUpdate:function(a){p.prototype.onUpdate.call(this,a);this.wrapWidth.update(a);this.letterSpacing.update(a);this.lineSpacing.update(a)},__class__:$a,__properties__:r(p.prototype.__properties__,{set_align:"set_align"})});var N={__ename__:!0,__constructs__:["Left","Middle","Right","Unknown"],Left:["Left",0]};N.Left.__enum__=N;N.Middle=
["Middle",1];N.Middle.__enum__=N;N.Right=["Right",2];N.Right.__enum__=N;N.Unknown=function(a){a=["Unknown",3,a];a.__enum__=N;return a};var R={__ename__:!0,__constructs__:["Default","Button","None"],Default:["Default",0]};R.Default.__enum__=R;R.Button=["Button",1];R.Button.__enum__=R;R.None=["None",2];R.None.__enum__=R;var Bb=function(){this.init(0,0,0,null)};Bb.__name__=!0;Bb.prototype={init:function(a,b,c,e){this.id=a;this.viewX=b;this.viewY=c;this.button=e},__class__:Bb};var Aa={__ename__:!0,__constructs__:["Mouse",
"Touch"]};Aa.Mouse=function(a){a=["Mouse",0,a];a.__enum__=Aa;return a};Aa.Touch=function(a){a=["Touch",1,a];a.__enum__=Aa;return a};var Cb=function(){this.init(0,0,0,null,null)};Cb.__name__=!0;Cb.prototype={init:function(a,b,c,e,i){this.id=a;this.viewX=b;this.viewY=c;this.hit=e;this.source=i;this._stopped=!1},__class__:Cb};var Db=function(a){this.id=a;this._source=Aa.Touch(this)};Db.__name__=!0;Db.prototype={init:function(a,b){this.viewX=a;this.viewY=b},__class__:Db};var Ya=function(){};Ya.__name__=
!0;Ya.max=function(a,b){return a>b?a:b};var xb=function(){this.identity()};xb.__name__=!0;xb.prototype={set:function(a,b,c,e,i,d){this.m00=a;this.m01=c;this.m02=i;this.m10=b;this.m11=e;this.m12=d},identity:function(){this.set(1,0,0,1,0,0)},compose:function(a,b,c,e,i){var d=Math.sin(i),i=Math.cos(i);this.set(i*c,d*c,-d*e,i*e,a,b)},translate:function(a,b){this.m02+=this.m00*a+this.m01*b;this.m12+=this.m11*b+this.m10*a},determinant:function(){return this.m00*this.m11-this.m01*this.m10},inverseTransform:function(a,
b,c){var e=this.determinant();if(0==e)return!1;a-=this.m02;b-=this.m12;c.x=(a*this.m11-b*this.m01)/e;c.y=(b*this.m00-a*this.m10)/e;return!0},__class__:xb};var Xa=function(a,b,c,e){null==e&&(e=0);null==c&&(c=0);null==b&&(b=0);null==a&&(a=0);this.set(a,b,c,e)};Xa.__name__=!0;Xa.prototype={set:function(a,b,c,e){this.x=a;this.y=b;this.width=c;this.height=e},contains:function(a,b){a-=this.x;if(0<=this.width){if(0>a||a>this.width)return!1}else if(0<a||a<this.width)return!1;b-=this.y;if(0<=this.height){if(0>
b||b>this.height)return!1}else if(0<b||b<this.height)return!1;return!0},__class__:Xa};var J=function(){this._disposed=!1};J.__name__=!0;J.__interfaces__=[ga];J.prototype={dispose:function(){this._disposed||(this._disposed=!0,this.onDisposed())},onDisposed:function(){null},__class__:J};var ia=function(a,b){var c=this;this.manifest=b;this._platform=a;this.promise=new ab;this._bytesLoaded=new M;this._pack=new bb(b,this);var e=La.array(b);if(0==e.length)this.handleSuccess();else{for(var i=new M,d=0;d<
e.length;){var f=e[d];++d;var j=i.get(f.name);null==j&&(j=[],i.set(f.name,j));j.push(f)}this._assetsRemaining=La.count(i);for(e=i.iterator();e.hasNext();)i=[e.next()],this.pickBestEntry(i[0],function(a){return function(e){if(null!=e){var i=b.getFullURL(e);try{c.loadEntry(i,e)}catch(d){c.handleError(e,"Unexpected error: "+v.string(d))}i=c.promise;i.set_total(i._total+e.bytes)}else e=a[0][0],ia.isAudio(e.format)?c.handleLoad(e,P.getInstance()):c.handleError(e,"Could not find a supported format to load")}}(i))}};
ia.__name__=!0;ia.isAudio=function(a){switch(a[1]){case 8:case 9:case 10:case 11:case 12:return!0;default:return!1}};ia.prototype={onDisposed:function(){},pickBestEntry:function(a,b){this.getAssetFormats(function(c){for(var e=0;e<c.length;){var i=c[e];++e;for(var d=0;d<a.length;){var f=a[d];++d;if(f.format==i){b(f);return}}}b(null)})},loadEntry:function(){null},getAssetFormats:function(){null},handleLoad:function(a,b){if(!this._pack.disposed){this.handleProgress(a,a.bytes);var c;switch(a.format[1]){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:c=
this._pack.textures;break;case 8:case 9:case 10:case 11:case 12:c=this._pack.sounds;break;case 13:c=this._pack.files}c.set(a.name,b);this._assetsRemaining-=1;0==this._assetsRemaining&&this.handleSuccess()}},handleProgress:function(a,b){this._bytesLoaded.set(a.name,b);for(var c=0,e=this._bytesLoaded.iterator();e.hasNext();)var i=e.next(),c=c+i;this.promise.set_progress(c)},handleSuccess:function(){this.promise.set_result(this._pack)},handleError:function(a,b){this.promise.error.emit(I.withFields(b,
["url",a.url]))},handleTextureError:function(a){this.handleError(a,"Failed to create texture. Is the GPU context unavailable?")},__class__:ia};var bb=function(a,b){this.disposed=!1;this._manifest=a;this.loader=b;this.textures=new M;this.sounds=new M;this.files=new M};bb.__name__=!0;bb.__interfaces__=[Ta];bb.prototype={getTexture:function(a,b){null==b&&(b=!0);var c=this.textures.get(a);if(null==c&&b)throw I.withFields("Missing texture",["name",a]);return c},getSound:function(a,b){null==b&&(b=!0);var c=
this.sounds.get(a);if(null==c&&b)throw I.withFields("Missing sound",["name",a]);return c},getFile:function(a,b){null==b&&(b=!0);var c=this.files.get(a);if(null==c&&b)throw I.withFields("Missing file",["name",a]);return c},dispose:function(){if(!this.disposed){this.disposed=!0;for(var a=this.textures.iterator();a.hasNext();)a.next().dispose();this.textures=null;for(a=this.sounds.iterator();a.hasNext();)a.next().dispose();this.sounds=null;for(a=this.files.iterator();a.hasNext();)a.next().dispose();
this.files=null;this.loader.onDisposed()}},__class__:bb};var Ba=function(a){this._disposed=!1;this._content=a};Ba.__name__=!0;Ba.__interfaces__=[Ua];Ba.__super__=J;Ba.prototype=r(J.prototype,{toString:function(){return this._content},onDisposed:function(){this._content=null},__class__:Ba});var Eb=function(){};Eb.__name__=!0;Eb.prototype={__class__:Eb};var K=function(a){this._pointer=a;this._source=Aa.Mouse(K._sharedEvent);this.down=new u;this.move=new u;this.up=new u;this.scroll=new u;this._y=this._x=
0;this._cursor=R.Default;this._buttonStates=new W};K.__name__=!0;K.__interfaces__=[Eb];K.prototype={set_cursor:function(a){return this._cursor=a},submitDown:function(a,b,c){this._buttonStates.exists(c)||(this._buttonStates.set(c,!0),this.prepare(a,b,Fb.toButton(c)),this._pointer.submitDown(a,b,this._source),this.down.emit(K._sharedEvent))},submitMove:function(a,b){this.prepare(a,b,null);this._pointer.submitMove(a,b,this._source);this.move.emit(K._sharedEvent)},submitUp:function(a,b,c){this._buttonStates.exists(c)&&
(this._buttonStates.remove(c),this.prepare(a,b,Fb.toButton(c)),this._pointer.submitUp(a,b,this._source),this.up.emit(K._sharedEvent))},submitScroll:function(a,b,c){this._x=a;this._y=b;if(null==this.scroll._head)return!1;this.scroll.emit(c);return!0},prepare:function(a,b,c){this._x=a;this._y=b;K._sharedEvent.init(K._sharedEvent.id+1,a,b,c)},__class__:K,__properties__:{set_cursor:"set_cursor"}};var Gb=function(){};Gb.__name__=!0;Gb.prototype={__class__:Gb};var E=function(a,b,c){null==c&&(c=!1);null==
b&&(b=0);null==a&&(a=0);this.down=new u;this.move=new u;this.up=new u;this._x=a;this._y=b;this._isDown=c};E.__name__=!0;E.__interfaces__=[Gb];E.prototype={get_x:function(){return this._x},submitDown:function(a,b,c){if(!this._isDown){this.submitMove(a,b,c);this._isDown=!0;var e=[],i=p.hitTest(f.root,a,b);if(null!=i){var d=i.owner;do{var fa=d._compMap.Sprite_2;null!=fa&&e.push(fa);d=d.parent}while(null!=d)}this.prepare(a,b,i,c);for(a=0;a<e.length;)if(b=e[a],++a,b.onPointerDown(E._sharedEvent),E._sharedEvent._stopped)return;
this.down.emit(E._sharedEvent)}},submitMove:function(a,b,c){if(!(a==this._x&&b==this._y)){var e=[],i=p.hitTest(f.root,a,b);if(null!=i){var d=i.owner;do{var fa=d._compMap.Sprite_2;null!=fa&&e.push(fa);d=d.parent}while(null!=d)}this.prepare(a,b,i,c);for(a=0;a<e.length;)if(b=e[a],++a,b.onPointerMove(E._sharedEvent),E._sharedEvent._stopped)return;this.move.emit(E._sharedEvent)}},submitUp:function(a,b,c){if(this._isDown){this.submitMove(a,b,c);this._isDown=!1;var e=[],i=p.hitTest(f.root,a,b);if(null!=
i){var d=i.owner;do{var fa=d._compMap.Sprite_2;null!=fa&&e.push(fa);d=d.parent}while(null!=d)}this.prepare(a,b,i,c);for(a=0;a<e.length;)if(b=e[a],++a,b.onPointerUp(E._sharedEvent),E._sharedEvent._stopped)return;this.up.emit(E._sharedEvent)}},prepare:function(a,b,c,e){this._x=a;this._y=b;E._sharedEvent.init(E._sharedEvent.id+1,a,b,c,e)},__class__:E,__properties__:{get_x:"get_x"}};var ja=function(a,b,c){this._x=this._y=0;this._parent=null;this.rootX=this.rootY=0;this._disposed=!1;this.root=a;this._width=
b;this._height=c};ja.__name__=!0;ja.__interfaces__=[$b];ja.__super__=J;ja.prototype=r(J.prototype,{subTexture:function(a,b,c,e){c=this.root.createTexture(c,e);c._parent=this;c._x=a;c._y=b;c.rootX=this.rootX+a;c.rootY=this.rootY+b;return c},onDisposed:function(){null==this._parent&&this.root.dispose()},get_width:function(){return this._width},get_height:function(){return this._height},__class__:ja,__properties__:{get_height:"get_height",get_width:"get_width"}});var ac=function(){};ac.__name__=!0;var Pa=
function(a,b){null==b&&(b=4);this._pointer=a;this._maxPoints=b;this._pointMap=new W;this._points=[];this.down=new u;this.move=new u;this.up=new u};Pa.__name__=!0;Pa.__interfaces__=[ac];Pa.prototype={submitDown:function(a,b,c){if(!this._pointMap.exists(a)){var e=new Db(a);e.init(b,c);this._pointMap.set(a,e);this._points.push(e);null==this._pointerTouch&&(this._pointerTouch=e,this._pointer.submitDown(b,c,e._source));this.down.emit(e)}},submitMove:function(a,b,c){a=this._pointMap.get(a);null!=a&&(a.init(b,
c),this._pointerTouch==a&&this._pointer.submitMove(b,c,a._source),this.move.emit(a))},submitUp:function(a,b,c){var e=this._pointMap.get(a);null!=e&&(e.init(b,c),this._pointMap.remove(a),m.remove(this._points,e),this._pointerTouch==e&&(this._pointerTouch=null,this._pointer.submitUp(b,c,e._source)),this.up.emit(e))},__class__:Pa};var ra=function(){};ra.__name__=!0;ra.__interfaces__=[ga];ra.prototype={__class__:ra};var P=function(){this._disposed=!1;this._playback=new cb(this)};P.__name__=!0;P.__interfaces__=
[ra];P.getInstance=function(){null==P._instance&&(P._instance=new P);return P._instance};P.__super__=J;P.prototype=r(J.prototype,{play:function(){return this._playback},loop:function(){return this._playback},onDisposed:function(){},__class__:P});var sa=function(){};sa.__name__=!0;sa.__interfaces__=[T];sa.prototype={__class__:sa};var cb=function(a){this._sound=a;this.volume=new x(0);this._complete=new H(!0)};cb.__name__=!0;cb.__interfaces__=[sa];cb.prototype={get_sound:function(){return this._sound},
set_paused:function(){return!0},dispose:function(){},__class__:cb,__properties__:{get_sound:"get_sound",set_paused:"set_paused"}};var Qa=function(){this.down=new u;this.move=new u;this.up=new u};Qa.__name__=!0;Qa.__interfaces__=[ac];Qa.prototype={__class__:Qa};var Ca=function(){this._entries=[]};Ca.__name__=!0;Ca.__interfaces__=[T];Ca.prototype={addListener:function(a,b,c){a.addEventListener(b,c,!1);this._entries.push(new Hb(a,b,c))},addDisposingListener:function(a,b,c){var e=this;this.addListener(a,
b,function(a){e.dispose();c(a)})},dispose:function(){for(var a=0,b=this._entries;a<b.length;){var c=b[a];++a;c.dispatcher.removeEventListener(c.type,c.listener,!1)}this._entries=[]},__class__:Ca};var Hb=function(a,b,c){this.dispatcher=a;this.type=b;this.listener=c};Hb.__name__=!0;Hb.prototype={__class__:Hb};var db=function(){};db.__name__=!0;db.__interfaces__=[Ab];db.prototype={__class__:db};var Ib=function(){};Ib.__name__=!0;Ib.prototype={__class__:Ib};var eb=function(){};eb.__name__=!0;eb.__interfaces__=
[Ib];eb.prototype={__class__:eb};var ma=function(){this._tickables=[]};ma.__name__=!0;ma.updateEntity=function(a,b){var c=a._compMap.SpeedAdjuster_8;if(null!=c&&(c._realDt=b,b*=c.scale._value,0>=b)){c.onUpdate(b);return}for(c=a.firstComponent;null!=c;){var e=c.next;0==(c._flags&1)&&(c._flags|=1,c.onStart());c.onUpdate(b);c=e}for(c=a.firstChild;null!=c;)e=c.next,ma.updateEntity(c,b),c=e};ma.prototype={update:function(a){if(!(0>=a)){1<a&&(a=1);for(var b=0;b<this._tickables.length;){var c=this._tickables[b];
null==c||c.update(a)?this._tickables.splice(b,1):++b}f.volume.update(a);ma.updateEntity(f.root,a)}},render:function(a){var b=a.graphics;null!=b&&(a.willRender(),p.render(f.root,b),a.didRender())},addTickable:function(a){this._tickables.push(a)},__class__:ma};var Fb=function(){};Fb.__name__=!0;Fb.toButton=function(a){switch(a){case 0:return N.Left;case 1:return N.Middle;case 2:return N.Right}return N.Unknown(a)};var Jb=function(){};Jb.__name__=!0;Jb.prototype={__class__:Jb};var fb=function(){};fb.__name__=
!0;fb.prototype={__class__:fb};var gb=function(a,b){this._firstDraw=!1;this._canvasCtx=a.getContext("2d",{alpha:b})};gb.__name__=!0;gb.__interfaces__=[db];gb.prototype={save:function(){this._canvasCtx.save()},transform:function(a,b,c,e,i,d){this._canvasCtx.transform(a,b,c,e,i,d)},restore:function(){this._canvasCtx.restore()},drawTexture:function(a,b,c){this.drawSubTexture(a,b,c,0,0,a.get_width(),a.get_height())},drawSubTexture:function(a,b,c,e,i,d,f){this._firstDraw?(this._firstDraw=!1,this._canvasCtx.globalCompositeOperation=
"copy",this.drawSubTexture(a,b,c,e,i,d,f),this._canvasCtx.globalCompositeOperation="source-over"):this._canvasCtx.drawImage(a.root.image,a.rootX+e|0,a.rootY+i|0,d|0,f|0,b|0,c|0,d|0,f|0)},fillRect:function(a,b,c,e,d){if(this._firstDraw)this._firstDraw=!1,this._canvasCtx.globalCompositeOperation="copy",this.fillRect(a,b,c,e,d),this._canvasCtx.globalCompositeOperation="source-over";else{for(a=(16777215&a).toString(16);6>a.length;)a="0"+v.string(a);this._canvasCtx.fillStyle="#"+v.string(a);this._canvasCtx.fillRect(b|
0,c|0,e|0,d|0)}},multiplyAlpha:function(a){this._canvasCtx.globalAlpha*=a},setBlendMode:function(a){var b;switch(a[1]){case 0:b="source-over";break;case 1:b="lighter";break;case 2:b="multiply";break;case 3:b="screen";break;case 4:b="destination-in";break;case 5:b="copy"}this._canvasCtx.globalCompositeOperation=b},applyScissor:function(a,b,c,e){this._canvasCtx.beginPath();this._canvasCtx.rect(a|0,b|0,c|0,e|0);this._canvasCtx.clip()},willRender:function(){this._firstDraw=!0},didRender:function(){},
__class__:gb};var na=function(a){this.graphics=new gb(a,!1);this._hasGPU=new H(!0)};na.__name__=!0;na.__interfaces__=[eb];na.prototype={get_type:function(){return Z.Canvas},createTextureFromImage:function(a){a=new Da(na.CANVAS_TEXTURES?n.createCanvas(a):a);return a.createTexture(a.width,a.height)},getCompressedTextureFormats:function(){return[]},createCompressedTexture:function(){return null},willRender:function(){this.graphics.willRender()},didRender:function(){this.graphics.didRender()},__class__:na,
__properties__:{get_type:"get_type"}};var hb=function(a,b,c){ja.call(this,a,b,c)};hb.__name__=!0;hb.__super__=ja;hb.prototype=r(ja.prototype,{__class__:hb});var Da=function(a){this._graphics=null;this._disposed=!1;this.image=a;this.width=a.width;this.height=a.height};Da.__name__=!0;Da.__interfaces__=[Jb];Da.__super__=J;Da.prototype=r(J.prototype,{createTexture:function(a,b){return new hb(this,a,b)},onDisposed:function(){this._graphics=this.image=null},__class__:Da});var t=function(a,b){ia.call(this,
a,b)};t.__name__=!0;t.detectImageFormats=function(a){var b=[h.PNG,h.JPG,h.GIF],c=2,e;e=window.document.createElement("img");e.onload=e.onerror=function(){1==e.width&&b.unshift(h.WEBP);--c;0==c&&a(b)};e.src="data:image/webp;base64,UklGRhoAAABXRUJQVlA4TA0AAAAvAAAAEAcQERGIiP4HAA==";var d;d=window.document.createElement("img");d.onload=d.onerror=function(){1==d.width&&b.unshift(h.JXR);--c;0==c&&a(b)};d.src="data:image/vnd.ms-photo;base64,SUm8AQgAAAAFAAG8AQAQAAAASgAAAIC8BAABAAAAAQAAAIG8BAABAAAAAQAAAMC8BAABAAAAWgAAAMG8BAABAAAAHwAAAAAAAAAkw91vA07+S7GFPXd2jckNV01QSE9UTwAZAYBxAAAAABP/gAAEb/8AAQAAAQAAAA=="};
t.detectAudioFormats=function(){var a;a=window.document.createElement("audio");if(null==a||null==S(a,a.canPlayType))return[];var b=new O("\\b(iPhone|iPod|iPad|Android|Windows Phone)\\b",""),c=window.navigator.userAgent;if(!s.get_supported()&&b.match(c))return[];for(var b=[{format:h.M4A,mimeType:"audio/mp4; codecs=mp4a"},{format:h.MP3,mimeType:"audio/mpeg"},{format:h.OPUS,mimeType:"audio/ogg; codecs=opus"},{format:h.OGG,mimeType:"audio/ogg; codecs=vorbis"},{format:h.WAV,mimeType:"audio/wav"}],c=[],
e=0;e<b.length;){var d=b[e];++e;var g="";try{g=a.canPlayType(d.mimeType)}catch(f){}""!=g&&c.push(d.format)}return c};t.supportsBlob=function(){if(t._detectBlobSupport){t._detectBlobSupport=!1;if((new O("\\bSilk\\b","")).match(window.navigator.userAgent)||null==window.Blob)return!1;var a=new XMLHttpRequest;a.open("GET",".",!0);if(""!=a.responseType)return!1;a.responseType="blob";if("blob"!=a.responseType)return!1;t._URL=n.loadExtension("URL").value}return null!=t._URL&&null!=t._URL.createObjectURL};
t.__super__=ia;t.prototype=r(ia.prototype,{loadEntry:function(a,b){var c=this;switch(b.format[1]){case 0:case 1:case 2:case 3:case 4:var e;e=window.document.createElement("img");var d=new Ca;d.addDisposingListener(e,"load",function(){t.supportsBlob()&&t._URL.revokeObjectURL(e.src);var a=c._platform.getRenderer().createTextureFromImage(e);null!=a?c.handleLoad(b,a):c.handleTextureError(b)});d.addDisposingListener(e,"error",function(){c.handleError(b,"Failed to load image")});t.supportsBlob()?this.download(a,
b,"blob",function(a){e.src=t._URL.createObjectURL(a)}):e.src=a;break;case 5:case 6:case 7:this.download(a,b,"arraybuffer",function(){var a=c._platform.getRenderer().createCompressedTexture(b.format,null);null!=a?c.handleLoad(b,a):c.handleTextureError(b)});break;case 8:case 9:case 10:case 11:case 12:if(s.get_supported())this.download(a,b,"arraybuffer",function(a){s.ctx.decodeAudioData(a,function(a){c.handleLoad(b,new s(a))},function(){c.handleLoad(b,P.getInstance())})});else{var g;g=window.document.createElement("audio");
g.preload="auto";var f=++t._mediaRefCount;null==t._mediaElements&&(t._mediaElements=new W);t._mediaElements.set(f,g);d=new Ca;d.addDisposingListener(g,"canplaythrough",function(){t._mediaElements.remove(f);c.handleLoad(b,new Ea(g))});d.addDisposingListener(g,"error",function(){t._mediaElements.remove(f);var a=g.error.code;3==a||4==a?c.handleLoad(b,P.getInstance()):c.handleError(b,"Failed to load audio: "+g.error.code)});d.addListener(g,"progress",function(){if(0<g.buffered.length&&0<g.duration){var a=
g.buffered.end(0)/g.duration;c.handleProgress(b,a*b.bytes|0)}});g.src=a;g.load()}break;case 13:this.download(a,b,"text",function(a){c.handleLoad(b,new Ba(a))})}},getAssetFormats:function(a){var b=this;null==t._supportedFormats&&(t._supportedFormats=new ab,t.detectImageFormats(function(a){t._supportedFormats.set_result(b._platform.getRenderer().getCompressedTextureFormats().concat(a).concat(t.detectAudioFormats()).concat([h.Data]))}));t._supportedFormats.get(a)},download:function(a,b,c,e){var d=this,
g=null,f=null,j=0,h=!1,k=function(){h&&(h=!1,window.clearInterval(j))},l=3,m=function(){--l;return 0<=l?(f(),!0):!1},f=function(){k();null!=g&&g.abort();g=new XMLHttpRequest;g.open("GET",a,!0);g.responseType=c;var f=0;g.onprogress=function(a){h||(h=!0,j=window.setInterval(function(){4!=g.readyState&&5E3<Date.now()-f&&!m()&&(k(),d.handleError(b,"Download stalled"))},1E3));f=Date.now();d.handleProgress(b,a.loaded)};g.onerror=function(){if(0!=g.status||!m())k(),d.handleError(b,"HTTP error "+g.status)};
g.onload=function(){var a=g.response;null==a&&(a=g.responseText);k();e(a)};g.send()};f()},__class__:t});var Kb=function(){};Kb.__name__=!0;Kb.prototype={__class__:Kb};var Sa=function(){};Sa.__name__=!0;Sa.__interfaces__=[Kb];Sa.prototype={call:function(a,b){null==b&&(b=[]);for(var c=window,e=c,d=0,g=a.split(".");d<g.length;){var f=g[d];++d;c=e;e=D.field(c,f)}return e.apply(c,b)},__class__:Sa};var Oa=function(a,b){K.call(this,a);this._canvas=b};Oa.__name__=!0;Oa.__super__=K;Oa.prototype=r(K.prototype,
{set_cursor:function(a){var b;switch(a[1]){case 0:b="";break;case 1:b="pointer";break;case 2:b="none"}this._canvas.style.cursor=b;return K.prototype.set_cursor.call(this,a)},__class__:Oa});var Ea=function(a){this._disposed=!1;this.audioElement=a};Ea.__name__=!0;Ea.__interfaces__=[ra];Ea.__super__=J;Ea.prototype=r(J.prototype,{play:function(a){null==a&&(a=1);return new Fa(this,a,!1)},loop:function(a){null==a&&(a=1);return new Fa(this,a,!0)},onDisposed:function(){this.audioElement=null},__class__:Ea});
var Fa=function(a,b,c){var e=this;this._sound=a;this._tickableAdded=!1;this._clonedElement=window.document.createElement("audio");this._clonedElement.loop=c;this._clonedElement.src=a.audioElement.src;this.volume=new x(b,function(){e.updateVolume()});this.updateVolume();this._complete=new H(!1);this.playAudio();f.hidden._value&&this.set_paused(!0)};Fa.__name__=!0;Fa.__interfaces__=[fb,sa];Fa.prototype={get_sound:function(){return this._sound},set_paused:function(a){this._clonedElement.paused!=a&&(a?
this._clonedElement.pause():this.playAudio());return a},update:function(a){this.volume.update(a);this._complete.set__(this._clonedElement.ended);return this._complete._value||this._clonedElement.paused?(this._tickableAdded=!1,this._volumeBinding.dispose(),this._hideBinding.dispose(),!0):!1},dispose:function(){this.set_paused(!0);this._complete.set__(!0)},playAudio:function(){var a=this;this._clonedElement.play();this._tickableAdded||(Y.instance.mainLoop.addTickable(this),this._tickableAdded=!0,this._volumeBinding=
f.volume.get_changed().connect(function(){a.updateVolume()}),this._hideBinding=f.hidden.get_changed().connect(function(b){b?(a._wasPaused=a._clonedElement.paused,a.set_paused(!0)):a.set_paused(a._wasPaused)}))},updateVolume:function(){this._clonedElement.volume=f.volume._value*this.volume._value},__class__:Fa,__properties__:{get_sound:"get_sound",set_paused:"set_paused"}};var Lb=function(){};Lb.__name__=!0;Lb.prototype={__class__:Lb};var la=function(a){var b=this;this._canvas=a;this.resize=new $;
this.scaleFactor=la.computeScaleFactor();1!=this.scaleFactor&&(n.setVendorStyle(this._canvas,"transform-origin","top left"),n.setVendorStyle(this._canvas,"transform","scale("+1/this.scaleFactor+")"));n.SHOULD_HIDE_MOBILE_BROWSER&&(window.addEventListener("orientationchange",function(){n.callLater(S(b,b.hideMobileBrowser),200)},!1),this.hideMobileBrowser());window.addEventListener("resize",S(this,this.onWindowResize),!1);this.onWindowResize(null);this.orientation=new H(null);null!=window.orientation&&
(window.addEventListener("orientationchange",S(this,this.onOrientationChange),!1),this.onOrientationChange(null));this.fullscreen=new H(!1);n.addVendorListener(window.document,"fullscreenchange",function(){b.updateFullscreen()},!1);this.updateFullscreen()};la.__name__=!0;la.__interfaces__=[Lb];la.computeScaleFactor=function(){var a=window.devicePixelRatio;null==a&&(a=1);var b=window.document.createElement("canvas").getContext("2d"),b=n.loadExtension("backingStorePixelRatio",b).value;null==b&&(b=1);
a/=b;b=window.screen.height;return 2136<a*window.screen.width||2136<a*b?1:a};la.prototype={get_width:function(){return this._canvas.width},get_height:function(){return this._canvas.height},lockOrientation:function(a){var b=n.loadExtension("lockOrientation",window.screen).value;if(null!=b){var c;switch(a[1]){case 0:c="portrait";break;case 1:c="landscape"}b.apply(window.screen,[c])||null}},requestFullscreen:function(a){null==a&&(a=!0);if(a){var a=window.document.documentElement,b=n.loadFirstExtension(["requestFullscreen",
"requestFullScreen"],a).value;null!=b&&b.apply(a,[])}else a=n.loadFirstExtension(["cancelFullscreen","cancelFullScreen"],window.document).value,null!=a&&D.callMethod(window.document,a,[])},onWindowResize:function(){var a=this._canvas.parentElement.getBoundingClientRect();this.resizeCanvas(a.width,a.height)},resizeCanvas:function(a,b){var c=this.scaleFactor*a,e=this.scaleFactor*b;if(this._canvas.width==c&&this._canvas.height==e)return!1;this._canvas.width=c|0;this._canvas.height=e|0;this.resize.emit();
return!0},hideMobileBrowser:function(){var a=this,b=window.document.documentElement.style;b.height=window.innerHeight+100+"px";b.width=window.innerWidth+"px";b.overflow="visible";n.callLater(function(){n.hideMobileBrowser();n.callLater(function(){b.height=window.innerHeight+"px";a.onWindowResize(null)},100)})},onOrientationChange:function(){this.orientation.set__(n.orientation(window.orientation))},updateFullscreen:function(){this.fullscreen.set__(!0==n.loadFirstExtension(["fullscreen","fullScreen",
"isFullScreen"],window.document).value)},__class__:la,__properties__:{get_height:"get_height",get_width:"get_width"}};var n=function(){};n.__name__=!0;n.callLater=function(a,b){null==b&&(b=0);window.setTimeout(a,b)};n.hideMobileBrowser=function(){window.scrollTo(1,0)};n.loadExtension=function(a,b){null==b&&(b=window);var c=D.field(b,a);if(null!=c)return{prefix:"",field:a,value:c};for(var c=a.charAt(0).toUpperCase()+m.substr(a,1,null),e=0,d=n.VENDOR_PREFIXES;e<d.length;){var g=d[e];++e;var f=g+c,j=
D.field(b,f);if(null!=j)return{prefix:g,field:f,value:j}}return{prefix:null,field:null,value:null}};n.loadFirstExtension=function(a,b){for(var c=0;c<a.length;){var e=a[c];++c;e=n.loadExtension(e,b);if(null!=e.field)return e}return{prefix:null,field:null,value:null}};n.polyfill=function(a,b){null==b&&(b=window);var c=n.loadExtension(a,b).value;if(null==c)return!1;b[a]=c;return!0};n.setVendorStyle=function(a,b,c){for(var a=a.style,e=0,d=n.VENDOR_PREFIXES;e<d.length;){var g=d[e];++e;a.setProperty("-"+
g+"-"+b,c)}a.setProperty(b,c)};n.addVendorListener=function(a,b,c,e){for(var d=0,g=n.VENDOR_PREFIXES;d<g.length;){var f=g[d];++d;a.addEventListener(f+b,c,e)}a.addEventListener(b,c,e)};n.orientation=function(a){switch(a){case -90:case 90:return V.Landscape;default:return V.Portrait}};n.createEmptyCanvas=function(a,b){var c;c=window.document.createElement("canvas");c.width=a;c.height=b;return c};n.createCanvas=function(a){var b=n.createEmptyCanvas(a.width,a.height),c=b.getContext("2d");c.save();c.globalCompositeOperation=
"copy";c.drawImage(a,0,0);c.restore();return b};n.fixAndroidMath=function(){if(0<=window.navigator.userAgent.indexOf("Linux; U; Android 4")){var a=Math.sin,b=Math.cos;Math.sin=function(b){return 0==b?0:a(b)};Math.cos=function(a){return 0==a?1:b(a)}}};var Mb=function(){};Mb.__name__=!0;Mb.prototype={__class__:Mb};var Ra=function(a){this._container=a};Ra.__name__=!0;Ra.__interfaces__=[Mb];Ra.prototype={openBrowser:function(a){window.open(a,"_blank")},__class__:Ra};var s=function(a){this._disposed=!1;
this.buffer=a};s.__name__=!0;s.__interfaces__=[ra];s.__properties__={get_supported:"get_supported"};s.get_supported=function(){if(s._detectSupport){s._detectSupport=!1;var a=n.loadExtension("AudioContext").value;null!=a&&(s.ctx=new a,s.gain=s.createGain(),s.gain.connect(s.ctx.destination),f.volume.watch(function(a){s.gain.gain.value=a}))}return null!=s.ctx};s.createGain=function(){return null!=s.ctx.createGain?s.ctx.createGain():s.ctx.createGainNode()};s.start=function(a,b){null!=a.start?a.start(b):
a.noteOn(b)};s.__super__=J;s.prototype=r(J.prototype,{play:function(a){null==a&&(a=1);return new Ga(this,a,!1)},loop:function(a){null==a&&(a=1);return new Ga(this,a,!0)},get_duration:function(){return this.buffer.duration},onDisposed:function(){this.buffer=null},__class__:s,__properties__:{get_duration:"get_duration"}});var Ga=function(a,b,c){var e=this;this._sound=a;this._head=s.gain;this._complete=new H(!1);this._sourceNode=s.ctx.createBufferSource();this._sourceNode.buffer=a.buffer;this._sourceNode.loop=
c;this._sourceNode.onended=function(){e._complete.set__(!0)};s.start(this._sourceNode,0);this.playAudio();this.volume=new x(b,function(a){e.setVolume(a)});1!=b&&this.setVolume(b);f.hidden._value&&this.set_paused(!0)};Ga.__name__=!0;Ga.__interfaces__=[fb,sa];Ga.prototype={get_sound:function(){return this._sound},set_paused:function(a){a!=0<=this._pausedAt&&(a?(this._sourceNode.disconnect(),this._pausedAt=this.get_position()):this.playAudio());return a},get_position:function(){return this._complete._value?
this._sound.get_duration():0<=this._pausedAt?this._pausedAt:(s.ctx.currentTime-this._startedAt)%this._sound.get_duration()},update:function(a){this.volume.update(a);3==this._sourceNode.playbackState&&this._complete.set__(!0);return this._complete._value||0<=this._pausedAt?(this._tickableAdded=!1,this._hideBinding.dispose(),!0):!1},dispose:function(){this.set_paused(!0);this._complete.set__(!0)},setVolume:function(a){null==this._gainNode&&(this._gainNode=s.createGain(),this.insertNode(this._gainNode));
this._gainNode.gain.value=a},insertNode:function(a){0<=this._pausedAt||(this._sourceNode.disconnect(),this._sourceNode.connect(a));a.connect(this._head);this._head=a},playAudio:function(){var a=this;this._sourceNode.connect(this._head);this._startedAt=s.ctx.currentTime;this._pausedAt=-1;this._tickableAdded||(Y.instance.mainLoop.addTickable(this),this._tickableAdded=!0,this._hideBinding=f.hidden.get_changed().connect(function(b){b?(a._wasPaused=0<=a._pausedAt,a.set_paused(!0)):a.set_paused(a._wasPaused)}))},
__class__:Ga,__properties__:{get_position:"get_position",get_sound:"get_sound",set_paused:"set_paused"}};var ib=function(){this._width=this._height=-1;this._transitor=null;q.call(this);this.scenes=[];this.occludedScenes=[];this._root=new C};ib.__name__=!0;ib.__super__=q;ib.prototype=r(q.prototype,{get_name:function(){return"Director_7"},setSize:function(a,b){this._width=a;this._height=b;return this},pushScene:function(a,b){var c=this;this.completeTransition();var e=this.get_topScene();null!=e?this.playTransition(e,
a,b,function(){c.hide(e)}):(this.add(a),this.invalidateVisibility())},unwindToScene:function(a,b){var c=this;this.completeTransition();var e=this.get_topScene();if(null!=e){if(e!=a){for(this.scenes.pop();0<this.scenes.length&&this.scenes[this.scenes.length-1]!=a;)this.scenes.pop().dispose();this.playTransition(e,a,b,function(){c.hideAndDispose(e)})}}else this.pushScene(a,b)},onAdded:function(){this.owner.addChild(this._root)},onRemoved:function(){this.completeTransition();for(var a=0,b=this.scenes;a<
b.length;){var c=b[a];++a;c.dispose()}this.scenes=[];this.occludedScenes=[];this._root.dispose()},onUpdate:function(a){null!=this._transitor&&this._transitor.update(a)&&this.completeTransition()},get_topScene:function(){var a=this.scenes.length;return 0<a?this.scenes[a-1]:null},add:function(a){var b=this.get_topScene();null!=b&&this._root.removeChild(b);m.remove(this.scenes,a);this.scenes.push(a);this._root.addChild(a)},hide:function(a){a=a._compMap.Scene_6;null!=a&&a.hidden.emit()},hideAndDispose:function(a){this.hide(a);
a.dispose()},show:function(a){a=a._compMap.Scene_6;null!=a&&a.shown.emit()},invalidateVisibility:function(){for(var a=this.scenes.length;0<a;){var b=this.scenes[--a]._compMap.Scene_6;if(null==b||b.opaque)break}this.occludedScenes=0<this.scenes.length?this.scenes.slice(a,this.scenes.length-1):[];a=this.get_topScene();null!=a&&this.show(a)},completeTransition:function(){null!=this._transitor&&(this._transitor.complete(),this._transitor=null,this.invalidateVisibility())},playTransition:function(a,b,
c,e){this.completeTransition();this.add(b);null!=c?(this.occludedScenes.push(a),this._transitor=new Nb(a,b,c,e),this._transitor.init(this)):(e(),this.invalidateVisibility())},__class__:ib,__properties__:r(q.prototype.__properties__,{get_topScene:"get_topScene"})});var Nb=function(a,b,c,e){this._from=a;this._to=b;this._transition=c;this._onComplete=e};Nb.__name__=!0;Nb.prototype={init:function(a){this._transition.init(a,this._from,this._to)},update:function(a){return this._transition.update(a)},complete:function(){this._transition.complete();
this._onComplete()},__class__:Nb};var Ha=function(){};Ha.__name__=!0;Ha.prototype={init:function(a,b,c){this._director=a;this._from=b;this._to=c},update:function(){return!0},complete:function(){},__class__:Ha};var aa=function(a,b){this._duration=a;this._ease=null!=b?b:y.linear};aa.__name__=!0;aa.__super__=Ha;aa.prototype=r(Ha.prototype,{init:function(a,b,c){Ha.prototype.init.call(this,a,b,c);this._elapsed=0},update:function(a){this._elapsed+=a;return this._elapsed>=this._duration},interp:function(a,
b){return a+(b-a)*this._ease(this._elapsed/this._duration)},__class__:aa});var jb=function(a,b){aa.call(this,a,b)};jb.__name__=!0;jb.__super__=aa;jb.prototype=r(aa.prototype,{init:function(a,b,c){aa.prototype.init.call(this,a,b,c);a=this._to._compMap.Sprite_2;null==a&&this._to.add(a=new p);a.alpha.set__(0)},update:function(a){a=aa.prototype.update.call(this,a);this._to._compMap.Sprite_2.alpha.set__(this.interp(0,1));return a},complete:function(){this._to._compMap.Sprite_2.alpha.set__(1)},__class__:jb});
var ta=function(a){null==a&&(a=!0);q.call(this);this.opaque=a;this.shown=new $;this.hidden=new $};ta.__name__=!0;ta.__super__=q;ta.prototype=r(q.prototype,{get_name:function(){return"Scene_6"},__class__:ta});var ba=function(){};ba.__name__=!0;ba.prototype={__class__:ba};var kb=function(a,b,c,e){this._value=a;this._to=b;this._seconds=c;this._easing=e};kb.__name__=!0;kb.__interfaces__=[ba];kb.prototype={update:function(a){null==this._tween&&(this._tween=new ya(this._value._value,this._to,this._seconds,
this._easing),this._value.set_behavior(this._tween),this._value.update(a));if(this._value._behavior!=this._tween){var b=this._tween.elapsed-this._seconds;this._tween=null;return 0<b?Math.max(0,a-b):0}return-1},__class__:kb};var ca=function(a){this._fn=a};ca.__name__=!0;ca.__interfaces__=[ba];ca.prototype={update:function(){this._fn();return 0},__class__:ca};var da=function(a){this._duration=a;this._elapsed=0};da.__name__=!0;da.__interfaces__=[ba];da.prototype={update:function(a){this._elapsed+=a;
if(this._elapsed>=this._duration){var b=this._elapsed-this._duration;this._elapsed=0;return a-b}return-1},__class__:da};var lb=function(a){this._completedActions=[];this._runningActions=null!=a?a.slice():[]};lb.__name__=!0;lb.__interfaces__=[ba];lb.prototype={update:function(a,b){for(var c=!0,e=0,d=0,g=this._runningActions.length;d<g;){var f=d++,j=this._runningActions[f];if(null!=j){var h=j.update(a,b);0<=h?(this._runningActions[f]=null,this._completedActions.push(j),h>e&&(e=h)):c=!1}}return c?(this._runningActions=
this._completedActions,this._completedActions=[],e):-1},__class__:lb};var mb=function(a,b){null==b&&(b=-1);this._action=a;this._remaining=this._count=b};mb.__name__=!0;mb.__interfaces__=[ba];mb.prototype={update:function(a,b){if(0==this._count)return 0;var c=this._action.update(a,b);return 0<this._count&&0<=c&&0==--this._remaining?(this._remaining=this._count,c):-1},__class__:mb};var ka=function(){q.call(this);this.stopAll()};ka.__name__=!0;ka.__super__=q;ka.prototype=r(q.prototype,{get_name:function(){return"Script_5"},
run:function(a){a=new nb(a);this._handles.push(a);return a},stopAll:function(){this._handles=[]},onUpdate:function(a){for(var b=0;b<this._handles.length;){var c=this._handles[b];c.removed||0<=c.action.update(a,this.owner)?this._handles.splice(b,1):++b}},__class__:ka});var nb=function(a){this.removed=!1;this.action=a};nb.__name__=!0;nb.__interfaces__=[T];nb.prototype={dispose:function(){this.removed=!0;this.action=null},__class__:nb};var ua=function(a){this._idx=0;this._runningActions=null!=a?a.slice():
[]};ua.__name__=!0;ua.__interfaces__=[ba];ua.prototype={add:function(a){this._runningActions.push(a)},update:function(a,b){for(var c=0;;){var e=this._runningActions[this._idx];if(null!=e)if(e=e.update(a-c,b),0<=e)c+=e;else return-1;++this._idx;if(this._idx>=this._runningActions.length){this._idx=0;break}else if(c>a)return-1}return c},__class__:ua};var Z={__ename__:!0,__constructs__:["Stage3D","WebGL","Canvas"],Stage3D:["Stage3D",0]};Z.Stage3D.__enum__=Z;Z.WebGL=["WebGL",1];Z.WebGL.__enum__=Z;Z.Canvas=
["Canvas",2];Z.Canvas.__enum__=Z;var Zb=function(){};Zb.__name__=!0;Zb.that=function(){};var yb=function(){};yb.__name__=!0;yb.set=function(a,b,c){return c?a|b:a&~b};var Ia=function(){this.mainSection=new M;this.sections=new M};Ia.__name__=!0;Ia.parse=function(a){for(var b=new Ia,c=new O("^\\s*;",""),e=new O("^\\s*\\[\\s*([^\\]]*)\\s*\\]",""),d=new O("^\\s*([\\w\\.\\-_]+)\\s*=\\s*(.*)",""),g=b.mainSection,f=0,a=(new O("\r\n|\r|\n","g")).split(a);f<a.length;){var j=a[f];++f;if(!c.match(j))if(e.match(j))j=
e.matched(1),b.sections.exists(j)?g=b.sections.get(j):(g=new M,b.sections.set(j,g));else if(d.match(j)){var j=d.matched(1),h=d.matched(2),k=h.charCodeAt(0);if((34==k||39==k)&&h.charCodeAt(h.length-1)==k)h=m.substr(h,1,h.length-2);h=w.replace(w.replace(w.replace(w.replace(w.replace(w.replace(h,"\\n","\n"),"\\r","\r"),"\\t","\t"),"\\'","'"),'\\"','"'),"\\\\","\\");g.set(j,h)}}return b};Ia.prototype={__class__:Ia};var Ja=function(a){this.config=a;this.missingTranslation=new u};Ja.__name__=!0;Ja.parse=
function(a){return new Ja(Ia.parse(a))};Ja.prototype={__class__:Ja};var ab=function(){this.success=new u;this.error=new u;this.progressChanged=new $;this.hasResult=!1;this._total=this._progress=0};ab.__name__=!0;ab.prototype={set_result:function(a){if(this.hasResult)throw"Promise result already assigned";this._result=a;this.hasResult=!0;this.success.emit(a);return a},get:function(a){return this.hasResult?(a(this._result),null):this.success.connect(a).once()},set_progress:function(a){this._progress!=
a&&(this._progress=a,this.progressChanged.emit());return a},set_total:function(a){this._total!=a&&(this._total=a,this.progressChanged.emit());return a},__class__:ab,__properties__:{set_total:"set_total",set_progress:"set_progress",set_result:"set_result"}};var $=function(a){z.call(this,a)};$.__name__=!0;$.__super__=z;$.prototype=r(z.prototype,{connect:function(a,b){null==b&&(b=!1);return this.connectImpl(a,b)},emit:function(){var a=this;this._head==z.DISPATCHING_SENTINEL?this.defer(function(){a.emitImpl()}):
this.emitImpl()},emitImpl:function(){for(var a=this.willEmit(),b=a;null!=b;)b._listener(),b.stayInList||b.dispose(),b=b._next;this.didEmit(a)},__class__:$});var sb=function(a){this.next=null;this.fn=a};sb.__name__=!0;sb.prototype={__class__:sb};var I=function(){};I.__name__=!0;I.getFileExtension=function(a){var b=a.lastIndexOf(".");return 0<b?m.substr(a,b+1,null):null};I.removeFileExtension=function(a){var b=a.lastIndexOf(".");return 0<b?m.substr(a,0,b):a};I.getUrlExtension=function(a){var b=a.lastIndexOf("?");
0<=b&&(a=m.substr(a,0,b));b=a.lastIndexOf("/");0<=b&&(a=m.substr(a,b+1,null));return I.getFileExtension(a)};I.joinPath=function(a,b){0<a.length&&47!=a.charCodeAt(a.length-1)&&(a+="/");return a+b};I.withFields=function(a,b){var c=b.length;if(0<c){for(var a=0<a.length?a+" [":a+"[",e=0;e<c;){0<e&&(a+=", ");var d=b[e],g=b[e+1];if(v.is(g,Error)){var f=g.stack;null!=f&&(g=f)}a+=d+"="+v.string(g);e+=2}a+="]"}return a};var W=function(){this.h={}};W.__name__=!0;W.__interfaces__=[Vb];W.prototype={set:function(a,
b){this.h[a]=b},get:function(a){return this.h[a]},exists:function(a){return this.h.hasOwnProperty(a)},remove:function(a){if(!this.h.hasOwnProperty(a))return!1;delete this.h[a];return!0},__class__:W};var M=function(){this.h={}};M.__name__=!0;M.__interfaces__=[Vb];M.prototype={set:function(a,b){this.h["$"+a]=b},get:function(a){return this.h["$"+a]},exists:function(a){return this.h.hasOwnProperty("$"+a)},keys:function(){var a=[],b;for(b in this.h)this.h.hasOwnProperty(b)&&a.push(b.substr(1));return m.iter(a)},
iterator:function(){return{ref:this.h,it:this.keys(),hasNext:function(){return this.it.hasNext()},next:function(){return this.ref["$"+this.it.next()]}}},__class__:M};var Yb=function(){};Yb.__name__=!0;Yb.getType=function(a){a=a.__meta__;return null==a||null==a.obj?{}:a.obj};var Ob=function(a){this.__x=a};Ob.__name__=!0;Ob.prototype={resolve:function(a){var b=this.__x.elementsNamed(a).next();if(null==b)throw(this.__x.nodeType==k.Document?"Document":this.__x.get_nodeName())+" is missing element "+a;
return new Ma(b)},__class__:Ob};var Pb=function(a){this.__x=a};Pb.__name__=!0;Pb.prototype={__class__:Pb};var Qb=function(a){this.__x=a};Qb.__name__=!0;Qb.prototype={__class__:Qb};var Rb=function(a){this.__x=a};Rb.__name__=!0;Rb.prototype={__class__:Rb};var Sb=function(a){this.__x=a};Sb.__name__=!0;Sb.prototype={__class__:Sb};var Ma=function(a){if(a.nodeType!=k.Document&&a.nodeType!=k.Element)throw"Invalid nodeType "+v.string(a.nodeType);this.x=a;this.node=new Ob(a);this.nodes=new Sb(a);this.att=
new Pb(a);this.has=new Qb(a);this.hasNode=new Rb(a)};Ma.__name__=!0;Ma.prototype={get_name:function(){return this.x.nodeType==k.Document?"Document":this.x.get_nodeName()},get_innerData:function(){var a=this.x.iterator();if(!a.hasNext())throw this.get_name()+" does not have data";var b=a.next(),c=a.next();if(null!=c){if(b.nodeType==k.PCData&&c.nodeType==k.CData&&""==w.trim(b.get_nodeValue())&&(b=a.next(),null==b||b.nodeType==k.PCData&&""==w.trim(b.get_nodeValue())&&null==a.next()))return c.get_nodeValue();
throw this.get_name()+" does not only have data";}if(b.nodeType!=k.PCData&&b.nodeType!=k.CData)throw this.get_name()+" does not have data";return b.get_nodeValue()},__class__:Ma,__properties__:{get_innerData:"get_innerData",get_name:"get_name"}};var X=function(){};X.__name__=!0;X.parse=function(a){var b=k.createDocument();X.doParse(a,0,b);return b};X.doParse=function(a,b,c){null==b&&(b=0);for(var e=null,d=1,g=1,f=null,j=0,h=0,n=0,l=a.charCodeAt(b),o=new Na;l==l;){switch(d){case 0:switch(l){case 10:case 13:case 9:case 32:break;
default:d=g;continue}break;case 1:switch(l){case 60:d=0;g=2;break;default:j=b;d=13;continue}break;case 13:60==l?(g=k.createPCData(o.b+m.substr(a,j,b-j)),o=new Na,c.addChild(g),h++,d=0,g=2):38==l&&(o.addSub(a,j,b-j),d=18,g=13,j=b+1);break;case 17:93==l&&93==a.charCodeAt(b+1)&&62==a.charCodeAt(b+2)&&(d=k.createCData(m.substr(a,j,b-j)),c.addChild(d),h++,b+=2,d=1);break;case 2:switch(l){case 33:if(91==a.charCodeAt(b+1)){b+=2;if("CDATA["!=m.substr(a,b,6).toUpperCase())throw"Expected <![CDATA[";b+=5;d=
17}else if(68==a.charCodeAt(b+1)||100==a.charCodeAt(b+1)){if("OCTYPE"!=m.substr(a,b+2,6).toUpperCase())throw"Expected <!DOCTYPE";b+=8;d=16}else{if(45!=a.charCodeAt(b+1)||45!=a.charCodeAt(b+2))throw"Expected <\!--";b+=2;d=15}j=b+1;break;case 63:d=14;j=b;break;case 47:if(null==c)throw"Expected node name";j=b+1;d=0;g=10;break;default:d=3;j=b;continue}break;case 3:if(!(97<=l&&122>=l||65<=l&&90>=l||48<=l&&57>=l||58==l||46==l||95==l||45==l)){if(b==j)throw"Expected node name";e=k.createElement(m.substr(a,
j,b-j));c.addChild(e);d=0;g=4;continue}break;case 4:switch(l){case 47:d=11;h++;break;case 62:d=9;h++;break;default:d=5;j=b;continue}break;case 5:if(!(97<=l&&122>=l||65<=l&&90>=l||48<=l&&57>=l||58==l||46==l||95==l||45==l)){if(j==b)throw"Expected attribute name";f=m.substr(a,j,b-j);if(e.exists(f))throw"Duplicate attribute";d=0;g=6;continue}break;case 6:switch(l){case 61:d=0;g=7;break;default:throw"Expected =";}break;case 7:switch(l){case 34:case 39:d=8;j=b;break;default:throw'Expected "';}break;case 8:l==
a.charCodeAt(j)&&(g=m.substr(a,j+1,b-j-1),e.set(f,g),d=0,g=4);break;case 9:j=b=X.doParse(a,b,e);d=1;break;case 11:switch(l){case 62:d=1;break;default:throw"Expected >";}break;case 12:switch(l){case 62:return 0==h&&c.addChild(k.createPCData("")),b;default:throw"Expected >";}case 10:if(!(97<=l&&122>=l||65<=l&&90>=l||48<=l&&57>=l||58==l||46==l||95==l||45==l)){if(j==b)throw"Expected node name";if(m.substr(a,j,b-j)!=c.get_nodeName())throw"Expected </"+c.get_nodeName()+">";d=0;g=12;continue}break;case 15:45==
l&&45==a.charCodeAt(b+1)&&62==a.charCodeAt(b+2)&&(c.addChild(k.createComment(m.substr(a,j,b-j))),b+=2,d=1);break;case 16:91==l?n++:93==l?n--:62==l&&0==n&&(c.addChild(k.createDocType(m.substr(a,j,b-j))),d=1);break;case 14:63==l&&62==a.charCodeAt(b+1)&&(b++,d=m.substr(a,j+1,b-j-2),c.addChild(k.createProcessingInstruction(d)),d=1);break;case 18:59==l&&(j=m.substr(a,j,b-j),35==j.charCodeAt(0)?(j=120==j.charCodeAt(1)?v.parseInt("0"+m.substr(j,1,j.length-1)):v.parseInt(m.substr(j,1,j.length-1)),o.add(String.fromCharCode(j))):
X.escapes.exists(j)?o.add(X.escapes.get(j)):o.b+=v.string("&"+j+";"),j=b+1,d=g)}l=w.fastCodeAt(a,++b)}1==d&&(j=b,d=13);if(13==d)return(b!=j||0==h)&&c.addChild(k.createPCData(o.b+m.substr(a,j,b-j))),b;throw"Unexpected end";};var B=function(){};B.__name__=!0;B.getClass=function(a){return a instanceof Array&&null==a.__enum__?Array:a.__class__};B.__string_rec=function(a,b){if(null==a)return"null";if(5<=b.length)return"<...>";var c=typeof a;if("function"==c&&(a.__name__||a.__ename__))c="object";switch(c){case "object":if(a instanceof
Array){if(a.__enum__){if(2==a.length)return a[0];for(var c=a[0]+"(",b=b+"\t",e=2,d=a.length;e<d;)var g=e++,c=2!=g?c+(","+B.__string_rec(a[g],b)):c+B.__string_rec(a[g],b);return c+")"}c=a.length;e="[";b+="\t";for(d=0;d<c;)g=d++,e+=(0<g?",":"")+B.__string_rec(a[g],b);return e+"]"}try{e=a.toString}catch(f){return"???"}if(null!=e&&e!=Object.toString&&(c=a.toString(),"[object Object]"!=c))return c;c=null;e="{\n";b+="\t";d=null!=a.hasOwnProperty;for(c in a)if(!d||a.hasOwnProperty(c))"prototype"==c||"__class__"==
c||"__super__"==c||"__interfaces__"==c||"__properties__"==c||(2!=e.length&&(e+=", \n"),e+=b+c+" : "+B.__string_rec(a[c],b));b=b.substring(1);return e+("\n"+b+"}");case "function":return"<function>";case "string":return a;default:return""+a}};B.__interfLoop=function(a,b){if(null==a)return!1;if(a==b)return!0;var c=a.__interfaces__;if(null!=c)for(var e=0,d=c.length;e<d;){var g=e++,g=c[g];if(g==b||B.__interfLoop(g,b))return!0}return B.__interfLoop(a.__super__,b)};B.__instanceof=function(a,b){if(null==
b)return!1;switch(b){case ec:return(a|0)===a;case bc:return"number"==typeof a;case cc:return"boolean"==typeof a;case String:return"string"==typeof a;case Array:return a instanceof Array&&null==a.__enum__;case fc:return!0;default:if(null!=a){if("function"==typeof b&&(a instanceof b||B.__interfLoop(B.getClass(a),b)))return!0}else return!1;return b==gc&&null!=a.__name__||b==hc&&null!=a.__ename__?!0:a.__enum__==b}};B.__cast=function(a,b){if(B.__instanceof(a,b))return a;throw"Cannot cast "+v.string(a)+
" to "+v.string(b);};var va=function(a,b){null==b&&(b=350);var c=540*d.scale|0,c=d.addImageSprite(a,f._platform.getStage().get_width()+b,f._platform.getStage().get_height()/2-d.rand(c),"bg_cloud1",d.scale,1,!0);if(1==d.rand(2)){var e=c.scaleX;e.set__(-1*e._value)}c.disablePointer();c.owner.add(new ob(c.y._value))};va.__name__=!0;va.prototype={__class__:va};var ob=function(a){q.call(this);this.speedX=new x(25);this.dy=a};ob.__name__=!0;ob.__super__=q;ob.prototype=r(q.prototype,{get_name:function(){return"BgCloudComp_10"},
onAdded:function(){this.sp=this.owner._compMap.Sprite_2},onUpdate:function(a){this.speedX.update(a);var b=this.sp.x;b.set__(b._value-this.speedX._value*a);a=1;0>this.sp.scaleX._value&&(a=-1);this.sp.setScaleXY(d.scale*a,1*d.scale);this.sp.y.set__(f._platform.getStage().get_height()/2-this.dy*d.scale);-200>this.sp.x._value&&this.sp.owner.dispose()},__class__:ob});var L=function(){this.root=(new C).add(new ta);var a=this;L.ref=this;this.bgFillSprite=d.addFillSprite(f.root,0,777*d.scale,0,f._platform.getStage().get_width(),
f._platform.getStage().get_height(),1,!1);this.bgSprite=d.addImageSprite(f.root,f._platform.getStage().get_width()/2,f._platform.getStage().get_height()/2,"bg",d.scale);this.bgCloudLayer=new C;f.root.addChild(this.bgCloudLayer);this.moonSprite=d.addImageSprite(this.bgSprite.owner,d.halfWidth+300,d.halfHeight+400,"moon");this.moonSprite.x.animateTo(d.halfWidth+140,2,y.quadOut);this.moonSprite.y.animateTo(d.halfHeight-150,2,y.quadOut);this.waterSprite=d.addImageSprite(this.bgSprite.owner,d.halfWidth,
d.halfHeight,"water");this.waterSprite.disablePointer();this.muteBgSprite=d.addImageSprite(this.bgSprite.owner,d.halfWidth+690,d.halfHeight+100,"mute_btn_bg");this.muteSprite=d.addMuteButton(this.bgSprite.owner,d.halfWidth+690,d.halfHeight+60,"btn_sound_on","btn_sound_off",o.isMuted);this.muteSprite2=this.muteSprite.owner.parent.firstChild.next._compMap.Sprite_2;this.townSprite=d.addImageSprite(this.bgSprite.owner,d.halfWidth,d.halfHeight,"town");this.townSprite.disablePointer();d.switchPack(1);this.logoBtnSprite=
d.addButton(this.bgSprite.owner,d.halfWidth+200,d.halfHeight+380,"logo",function(){d.openUrl(A.xmlData.node.resolve("url").get_innerData())});o.soundsFolder="";o.playSoundtrack("soundtrack",1);o.soundsFolder="sounds/";d.switchPack(0);d.addDelay(this.root,1,function(){a.addFlashingStar();a.addFlashingStar();a.addFlashingStar()},!0);d.addDelay(this.root,3,function(){a.addFallingStar();a.addFallingStar()},!0);new va(this.bgCloudLayer,-1E3);new va(this.bgCloudLayer,-300);new va(this.bgCloudLayer,400);
d.addDelay(this.root,12,function(){new va(a.bgCloudLayer,350)},!0);this.santaSprite=d.addImageSprite(f.root,-500,f._platform.getStage().get_height()/2,"santa",d.scale);this.santaSprite.disablePointer();this.santaSprite.setRotation(-8);U.tween(this.santaSprite,6,{x:f._platform.getStage().get_width()+500,y:f._platform.getStage().get_height()/2-100},3.6,null,y.quadOut);d.addDelay(this.root,10,function(){a.santaSprite.setXY(0,f._platform.getStage().get_height()/2);U.tween(a.santaSprite,6,{x:f._platform.getStage().get_width()+
500,y:f._platform.getStage().get_height()/2-100},0,null,y.quadOut)},!0);var b=A.xmlData.node.resolve("principal").get_innerData();this.messageLabel=d.addLabel(this.bgSprite.owner,d.halfWidth-860,d.halfHeight-400,b,1,1,!1,"fonts/font1");this.messageLabel.setAlign(Q.Center);this.messageLabel.setWrapWidth(700);this.messageLabel.lineSpacing.set__(-50);var c=d.addImageSprite(this.bgSprite.owner,d.width-50,d.halfHeight-160,"m_cloud");U.tween(c,12,{x:-f._platform.getStage().get_width()},0,function(){c.owner.dispose()});
b=A.xmlData.node.resolve("message").get_innerData();b=d.addLabel(this.moonSprite.owner,this.moonSprite.getNaturalWidth()/2-4,this.moonSprite.getNaturalHeight()/2-7,b,1,1,!1,"fonts/msg_font_23px");b.setWrapWidth(440);b.setAlign(Q.Center);b.setAlpha(0);b.letterSpacing.set__(-1);b.lineSpacing.set__(-8);b.centerAnchor();U.tween(b,1,{alpha:1},2.8,null,y.quadIn);f._platform.getStage().resize.connect(S(this,this.onResize));this.onResize();this.root.add(new pb)};L.__name__=!0;L.prototype={onResize:function(){this.bgFillSprite.setXY(0,
f._platform.getStage().get_height()/2+236*d.scale);this.bgFillSprite.setSize(f._platform.getStage().get_width(),f._platform.getStage().get_height());this.bgSprite.setXY(f._platform.getStage().get_width()/2,f._platform.getStage().get_height()/2);this.bgSprite.setScale(d.scale);this.santaSprite.y.set__(f._platform.getStage().get_height()/2);this.santaSprite.setScale(d.scale)},addFlashingStar:function(){var a=this;d.addDelay(this.root,d.rand(20)/10,function(){var b=d.addImageSprite(a.bgSprite.owner,
d.rand(d.width),d.rand(d.halfHeight),"flashing_star");b.disablePointer();U.tween(b,0.1,{scaleX:0,scaleY:0},0,function(){b.owner.dispose()},y.backIn)})},addFallingStar:function(){var a=this;d.addDelay(this.root,d.rand(20)/10,function(){var b=d.addImageSprite(a.bgSprite.owner,300+d.rand(d.width-600),-100,"falling_star");b.setRotation(32);b.disablePointer();U.tween(b,1,{x:b.x._value-230,y:d.halfHeight,alpha:0},0,function(){b.owner.dispose()},y.quadOut)})},__class__:L};var pb=function(){q.call(this)};
pb.__name__=!0;pb.__super__=q;pb.prototype=r(q.prototype,{get_name:function(){return"MainSceneComp_9"},onAdded:function(){this.prevPointerX=f._platform.getPointer().get_x()},onUpdate:function(){f._platform.getPointer().get_x()!=this.prevPointerX&&(L.ref.moonSprite.x.animateTo(d.halfWidth+140-(f._platform.getPointer().get_x()-f._platform.getStage().get_width()/2)/30,0.3),L.ref.waterSprite.x.animateTo(d.halfWidth-(f._platform.getPointer().get_x()-f._platform.getStage().get_width()/2)/20,0.3),L.ref.logoBtnSprite.x.animateTo(d.halfWidth+
260-(f._platform.getPointer().get_x()-f._platform.getStage().get_width()/2)/15,0.3),L.ref.townSprite.x.animateTo(d.halfWidth-(f._platform.getPointer().get_x()-f._platform.getStage().get_width()/2)/10,0.3),L.ref.muteBgSprite.x.animateTo(d.halfWidth+690-(f._platform.getPointer().get_x()-f._platform.getStage().get_width()/2)/10,0.3),L.ref.muteSprite.x.animateTo(d.halfWidth+690-(f._platform.getPointer().get_x()-f._platform.getStage().get_width()/2)/10,0.3),L.ref.muteSprite2.x.animateTo(d.halfWidth+690-
(f._platform.getPointer().get_x()-f._platform.getStage().get_width()/2)/10,0.3),L.ref.messageLabel.x.animateTo(d.halfWidth-860-(f._platform.getPointer().get_x()-f._platform.getStage().get_width()/2)/20,0.3));this.prevPointerX=f._platform.getPointer().get_x()},__class__:pb});var qb=function(){this.root=(new C).add(new ta);d.addButton(this.root,d.halfWidth,d.halfHeight,"btn_play",function(){d.goToScene((new L).root)})};qb.__name__=!0;qb.prototype={__class__:qb};var o=function(){};o.__name__=!0;o.playSfx=
function(a,b){null==b&&(b=1);return o.isMuted?null:d.assets.getSound(o.soundsFolder+""+a).play(b)};o.playSoundtrack=function(a,b){null==b&&(b=1);var c=d.assets.getSound(o.soundsFolder+""+a);null!=o.cSoundtrackPlayback?o.cSoundtrackPlayback.get_sound()!=c&&(o.cSoundtrackVolume=b,o.cSoundtrackPlayback=c.loop(b)):(o.cSoundtrackVolume=b,o.cSoundtrackPlayback=c.loop(b));return o.cSoundtrackPlayback};o.muteSoundtrack=function(){null!=o.cSoundtrackPlayback&&(o.cSoundtrackPlayback.volume.animateTo(0,1),d.addDelay(null,
0.8,function(){o.cSoundtrackPlayback.set_paused(!0)},!1))};o.unmuteSoundtrack=function(){null!=o.cSoundtrackPlayback&&!o.isMuted&&(o.cSoundtrackPlayback.set_paused(!1),o.cSoundtrackPlayback.volume.animateTo(o.cSoundtrackVolume,1))};o.muteAll=function(){o.isMuted?(o.isMuted=!1,o.unmuteSoundtrack(),f.volume.animateTo(1,0)):(o.isMuted=!0,o.muteSoundtrack(),f.volume.animateTo(0,1))};var U=function(){};U.__name__=!0;U.tween=function(a,b,c,e,d,g){null==e&&(e=0);var h=new ua;0>e&&(e=0);if(0==b&&0==e)U.apply(a,
c,d);else{if(0==b&&0<e){var j=new C;0!=e&&h.add(new da(e));h.add(new ca(function(){U.apply(a,c,d);j.dispose()}));b=new ka;f.root.addChild(j.add(b))}else{0<e&&h.add(new da(e));for(var e=[],k=0,m=D.fields(c);k<m.length;){var l=m[k];++k;var n=D.getProperty(a,l);e.push(new kb(n,D.field(c,l),b,g))}g=new lb(e);h.add(g);var o=new C;h.add(new da(b));h.add(new ca(function(){null!=d&&d();o.dispose()}));b=new ka;f.root.addChild(o.add(b))}b.run(h)}};U.apply=function(a,b,c){for(var e=0,d=D.fields(b);e<d.length;){var g=
d[e];++e;var f=D.getProperty(a,g);B.__cast(f,x).set__(D.field(b,g))}null!=c&&c()};var d=function(a,b){this.init=new $;var c=this;d.width=a;d.height=b;d.halfWidth=a/2|0;d.halfHeight=b/2|0;d.director=(new C).add(new p).add((new ib).setSize(d.width,d.height));f.root.addChild(d.director);d.systemBg=d.initFillSpriteComp(0,0,d.systemBgColor,0,0,1,!1);f.root.add(d.systemBg);f.loadAssetPack(G.fromAssets("boot")).get(function(a){d.assets=a;d.rotPhonePrompt=d.addFillSprite(f.root,0,0,1118481,f._platform.getStage().get_width(),
f._platform.getStage().get_height(),1,!1);a=d.addImageSprite(d.rotPhonePrompt.owner,0,0,"rot_phone");d.defaultOrientation==V.Landscape&&a.setRotation(90);(d.defaultOrientation==f._platform.getStage().orientation._value||null==f._platform.getStage().orientation._value)&&d.rotPhonePrompt.set_visible(!1);f._platform.getStage().lockOrientation(d.defaultOrientation);f._platform.getStage().requestFullscreen(!0);f._platform.getStage().orientation.get_changed().connect(S(c,c.onOrientationChange));f._platform.getStage().resize.connect(S(c,
c.onResize));c.onResize();c.initPreloaderScene()})};d.__name__=!0;d.onResizeCallback=function(){};d.onOrientationChangeCallback=function(){};d.goToScene=function(a,b){null==b&&(b=new jb(0.5,y.quadOut));d.director._compMap.Director_7.unwindToScene(a,b)};d.switchPack=function(a){0==a?d.assets=d.mainAssets:1==a&&(d.assets=d.extAssets)};d.initFillSpriteComp=function(a,b,c,e,d,g,f){null==f&&(f=!0);null==g&&(g=1);c=new Va(c,e,d);c.setXY(a,b);c.setAlpha(g);f&&c.centerAnchor();return c};d.initImageSpriteComp=
function(a,b,c,e,f,g,h){null==g&&(g=!0);null==f&&(f=1);null==e&&(e=1);var j=null;""!=c&&(j=d.assets.getTexture(c));null!=h&&(j=j.subTexture(h.x|0,h.y|0,h.width|0,h.height|0));c=new za(j);c.setXY(a,b);c.setScale(e);c.setAlpha(f);g&&c.centerAnchor();return c};d.initTextSpriteComp=function(a,b,c,e,f,g,h){null==h&&(h="");null==g&&(g=!1);null==f&&(f=1);null==e&&(e=1);null==c&&(c="Label");""==h&&(h=d.defaultFont);c=new $a(new pa(d.assets,h),c);c.disablePointer();c.setXY(a,b);c.setScale(e);c.setAlpha(f);
g&&c.centerAnchor();return c};d.addFillSprite=function(a,b,c,e,f,g,h,j){null==j&&(j=!0);null==h&&(h=1);var k=new C;k.add(new ea);b=d.initFillSpriteComp(b,c,e,f,g,h,j);k.add(b);null!=a&&a.addChild(k);return b};d.addImageSprite=function(a,b,c,e,f,g,h,j){null==h&&(h=!0);null==g&&(g=1);null==f&&(f=1);var k=new C;k.add(new ea);b=d.initImageSpriteComp(b,c,e,f,g,h,j);k.add(b);null!=a&&a.addChild(k);return b};d.addLabel=function(a,b,c,e,f,g,h,j){null==j&&(j="");null==h&&(h=!1);null==g&&(g=1);null==f&&(f=
1);null==e&&(e="Label");var k=new C;k.add(new ea);b=d.initTextSpriteComp(b,c,e,f,g,h,j);k.add(b);null!=a&&a.addChild(k);return b};d.addButton=function(a,b,c,e,f,g,h,j){null==j&&(j=1);null==h&&(h=1);null==g&&(g="");var k=new C;a.addChild(k);var m=d.addImageSprite(k,b,c,e,h,j,!0).owner;d.useMouseHandCursor&&m.add(new Ka);m.add(new ka);var l=null;""!=g&&(l=d.addImageSprite(k,b,c,g,1,1,!0).owner,d.useMouseHandCursor&&l.add(new Ka),l._compMap.Sprite_2.set_visible(!1));var n=h+0.15,p=new ua;p.add(new ca(function(){m._compMap.Sprite_2.scaleX.animateTo(n,
0.2,y.backOut);m._compMap.Sprite_2.scaleY.animateTo(n,0.2,y.backOut)}));p.add(new da(0.2));p.add(new ca(function(){m._compMap.Sprite_2.scaleX.animateTo(h,0.1,y.quadIn);m._compMap.Sprite_2.scaleY.animateTo(h,0.1,y.quadIn)}));a=function(){m._compMap.Script_5.run(p)};b=function(){null!=l&&(0==(l._compMap.Sprite_2._flags&2)?(m._compMap.Sprite_2.set_visible(!1),l._compMap.Sprite_2.set_visible(!0)):(m._compMap.Sprite_2.set_visible(!0),l._compMap.Sprite_2.set_visible(!1)));""!=d.buttonClickSfx&&o.playSfx(d.buttonClickSfx);
null!=f&&f()};m._compMap.Disposer_4.connect1(m._compMap.Sprite_2.get_pointerDown(),a);m._compMap.Disposer_4.connect1(m._compMap.Sprite_2.get_pointerUp(),b);null!=l&&(l._compMap.Disposer_4.connect1(l._compMap.Sprite_2.get_pointerDown(),a),l._compMap.Disposer_4.connect1(l._compMap.Sprite_2.get_pointerUp(),b));return v.instance(m._compMap.Sprite_2,za)};d.addMuteButton=function(a,b,c,e,f,g,h,j){null==j&&(j=1);null==h&&(h=1);return d.addButton(a,b,c,e,function(){o.muteAll()},f,h,j)};d.addDelay=function(a,
b,c,d,f){null==f&&(f=-1);null==d&&(d=!1);var g=new C,h=new ua;h.add(new da(b));h.add(new ca(function(){null!=c&&c();d||g.dispose()}));b=new ka;g.add(new ea);g.add(b);null!=a&&a.addChild(g);d?b.run(new mb(h,f)):b.run(h);return g};d.openUrl=function(a){f._platform.getWeb().openBrowser("http://"+a)};d.rand=function(a){return v.random(a)};d.prototype={onResize:function(){var a=f._platform.getStage().get_width(),b=f._platform.getStage().get_height();d.scale=Math.min(a/d.width,b/d.height);var c=0;"top"==
d.rootContYAlign?c=0:"middle"==d.rootContYAlign?c=0.5*b-0.5*d.scale*d.height:"bottom"==d.rootContYAlign&&(c=b-d.scale*d.height);d.director._compMap.Sprite_2.setXY(0.5*a-0.5*d.scale*d.width,c);d.director._compMap.Sprite_2.setScale(d.scale);d.maskRootCont&&(d.director._compMap.Sprite_2.scissor=new Xa(0,0,d.width,d.height));d.systemBg.setXY(0,0);d.systemBg.setSize(a,b);d.onResizeCallback();d.rotPhonePrompt.setXY(0,0);d.rotPhonePrompt.setSize(f._platform.getStage().get_width(),f._platform.getStage().get_height());
d.rotPhonePrompt.owner.firstChild._compMap.Sprite_2.setXY(d.rotPhonePrompt.width._value/2,d.rotPhonePrompt.height._value/2);d.rotPhonePrompt.owner.firstChild._compMap.Sprite_2.setScale(d.scale)},onOrientationChange:function(a){d.onOrientationChangeCallback();d.defaultOrientation!=a?d.rotPhonePrompt.set_visible(!0):d.rotPhonePrompt.set_visible(!1)},initPreloaderScene:function(){var a=this,b=(new C).add(new ta),c=d.addFillSprite(b,0,0,d.systemBgColor,d.width,d.height,1,!1),e=d.addImageSprite(c.owner,
d.halfWidth,d.halfHeight,"preloader"),h=f.loadAssetPack(G.fromAssets(d.mainAssetsFolder));h.get(function(g){d.mainAssets=g;d.assets=d.mainAssets;d.settings=Ja.parse(g.getFile("settings.ini").toString());null!=d.extManifest?(g=f._platform.loadAssetPack(d.extManifest),g.get(function(e){d.extAssets=e;b.removeChild(c.owner);a.init.emit()}),g.progressChanged.connect(function(){var a=e.rotation;a.set__(a._value+50)})):(b.removeChild(c.owner),a.init.emit())});h.progressChanged.connect(function(){var a=e.rotation;
a.set__(a._value+50)});d.goToScene(b)},__class__:d};var Ka=function(){q.call(this)};Ka.__name__=!0;Ka.__super__=q;Ka.prototype=r(q.prototype,{get_name:function(){return"ButtonCursorComp_1"},onAdded:function(){this.owner._compMap.Disposer_4.connect1(this.owner._compMap.Sprite_2.get_pointerIn(),S(this,this.onPointerIn));this.owner._compMap.Disposer_4.connect1(this.owner._compMap.Sprite_2.get_pointerMove(),S(this,this.onPointerMove));this.owner._compMap.Disposer_4.connect1(this.owner._compMap.Sprite_2.get_pointerOut(),
S(this,this.onPointerOut))},onPointerIn:function(){f._platform.getMouse().set_cursor(R.Button)},onPointerMove:function(a){a.hit==this.owner._compMap.Sprite_2&&f._platform.getMouse().set_cursor(R.Button)},onPointerOut:function(){f._platform.getMouse().set_cursor(R.Default)},__class__:Ka});var Ub=function(){};Ub.__name__=!0;Ub.parseQueryString=function(a,b){for(var c=a.split("&"),d,f=0,g=c.length;f<g;)if(d=f++,d=c[d].split("="),d[0]==b)return d[1];return""};var dc=0;Math.NaN=Number.NaN;Math.NEGATIVE_INFINITY=
Number.NEGATIVE_INFINITY;Math.POSITIVE_INFINITY=Number.POSITIVE_INFINITY;Math.isFinite=function(a){return isFinite(a)};Math.isNaN=function(a){return isNaN(a)};String.prototype.__class__=String;String.__name__=!0;Array.__name__=!0;Date.prototype.__class__=Date;Date.__name__=["Date"];var ec={__name__:["Int"]},fc={__name__:["Dynamic"]},bc=Number;bc.__name__=["Float"];var cc=Boolean;cc.__ename__=["Bool"];var gc={__name__:["Class"]},hc={};k.Element="element";k.PCData="pcdata";k.CData="cdata";k.Comment=
"comment";k.DocType="doctype";k.ProcessingInstruction="processingInstruction";k.Document="document";Y.instance=new Y;z.DISPATCHING_SENTINEL=new oa(null,null);f.root=new C;f.uncaughtError=new u;f.hidden=new H(!1);f.volume=new x(1);f._platform=Y.instance;f._calledInit=!1;G.__meta__={obj:{assets:[{main:[{bytes:501478,md5:"a6795942dfbed9cc51228ed72f72b8df",name:"bg.png"},{bytes:35853,md5:"db8b40fb09d2272f097aee4b6106fb05",name:"bg_cloud1.png"},{bytes:2079,md5:"36a793995c10160d319fff892e4924a8",name:"btn_play.png"},
{bytes:1647,md5:"fd6cb3ae79c0313f8b655ffcbeb6a389",name:"btn_sound_off.png"},{bytes:2163,md5:"5d3fcec8dc893b0abbc48183e3cfa9aa",name:"btn_sound_on.png"},{bytes:10424,md5:"3d8ccbbede1a29f968ae3e41f904ced8",name:"button_click_sfx.mp3"},{bytes:22501,md5:"150b5d3ee638b5eed99df8bb93560075",name:"debug_font.fnt"},{bytes:16702,md5:"736b0c441c9ef9887af6661d36267ee6",name:"debug_font.png"},{bytes:805,md5:"87c4e87ff2ed59adec6fa2689e674f40",name:"falling_star.png"},{bytes:188,md5:"175e7d618e36e3cb84fa0a5eee6ed7f4",
name:"flashing_star.png"},{bytes:46418,md5:"f6f4397afec3f3928bb549a8279c6691",name:"fonts/font1.fnt"},{bytes:80888,md5:"fc956eef534958f7b67dc257731bafc6",name:"fonts/font1.png"},{bytes:86686,md5:"ed1da3983ddf0d3264001ea14543e7eb",name:"fonts/msg_font_23px.fnt"},{bytes:18259,md5:"06080d1bfa15532fa66699c74538014a",name:"fonts/msg_font_23px.png"},{bytes:84450,md5:"2e00c3346207f95aa65a1b5a662b4bd0",name:"m_cloud.png"},{bytes:51547,md5:"00dff1007ed33eaf8013e547c5083277",name:"moon.png"},{bytes:9075,md5:"d47f6d0982d7933f8e69b02ca42f7974",
name:"mute_btn_bg.png"},{bytes:6243,md5:"67ecedc954188ca495d3e064a248292b",name:"rot_phone.png"},{bytes:19687,md5:"170648795818e0cd4f376196d2708ecb",name:"santa.png"},{bytes:0,md5:"7c3560a0ef91db57dc8d180067e9da59",name:"settings.ini"},{bytes:10424,md5:"3d8ccbbede1a29f968ae3e41f904ced8",name:"sounds/button_click_sfx.mp3"},{bytes:71378,md5:"a30ee505c7a15b96a367f0644eb05c4d",name:"town.png"},{bytes:149620,md5:"04b122ff2eb095c948d54a7ee48b3002",name:"water.png"}],boot:[{bytes:2638,md5:"56bc969bddfb2ebe70e317cea65bef15",
name:"preloader.png"},{bytes:6243,md5:"67ecedc954188ca495d3e064a248292b",name:"rot_phone.png"}]}]}};G._supportsCrossOrigin=function(){var a;a=0<=window.navigator.userAgent.indexOf("Linux; U; Android")?!1:null!=(new XMLHttpRequest).withCredentials;a||null;return a}();p._scratchPoint=new wb;pa.NEWLINE=new Wa(10);K._sharedEvent=new Bb;E._sharedEvent=new Cb;na.CANVAS_TEXTURES=(new O("(iPhone|iPod|iPad)","")).match(window.navigator.userAgent);t._mediaRefCount=0;t._detectBlobSupport=!1;n.VENDOR_PREFIXES=
["webkit","moz","ms","o","khtml"];n.SHOULD_HIDE_MOBILE_BROWSER=window.top==window&&(new O("Mobile(/.*)? Safari","")).match(window.navigator.userAgent);s._detectSupport=!0;X.escapes=function(){var a=new M;a.set("lt","<");a.set("gt",">");a.set("amp","&");a.set("quot",'"');a.set("apos","'");a.set("nbsp",String.fromCharCode(160));return a}(this);o.soundsFolder="sounds/";o.isMuted=!1;d.mainAssetsFolder="main";d.defaultOrientation=V.Portrait;d.defaultFont="default_font";d.systemBgColor=3355443;d.buttonClickSfx=
"";d.maskRootCont=!0;d.rootContYAlign="middle";d.useMouseHandCursor=!1;A.main()})();
